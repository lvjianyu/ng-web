!function(t){"use strict";var e=["ui.router","ui.bootstrap","platform","authentication","ngWeb","ngMessage","angular-loading-bar","textAngular"],n=t.module("app",e);n.config(["cfpLoadingBarProvider",function(t){t.includeSpinner=!1}]),n.config(["$provide",function(t){t.decorator("$templateCache",["$http","$delegate","$injector",function(t,e,n){return e.loadedTemplateUrl=function(e){t({url:e,method:"GET"}).then(function(t){n.get("$compile")(t.data)})},e}])}]),n.run(["$templateCache","$http","$compile",function(t){t.loadedTemplateUrl("/template/ng-template.html")}])}(angular);
!function(i){"use strict";i.module("ngWeb",[]).value("topicItemSource",[{topic:"Javascript",liStyle:"bg_lg span3",uiSref:"javascript",iStyle:"icon-signal",spanStyle:"label label-success"},{topic:"Angularjs",liStyle:"bg_lb",uiSref:"angularjs",iStyle:"icon-dashboard",spanStyle:"label label-success"},{topic:"NodeJS",liStyle:"bg_ly span2",uiSref:"nodejs",iStyle:"icon-inbox",spanStyle:"label label-success"},{topic:"C#",liStyle:"bg_lo span3",uiSref:"csharp",iStyle:"icon-th",spanStyle:"label label-success"},{topic:"MongoDB",liStyle:"bg_ls",uiSref:"mongodb",iStyle:"icon-fullscreen",spanStyle:"label label-success"},{topic:"SQL",liStyle:"bg_lo",uiSref:"sql",iStyle:"icon-th-list",spanStyle:"label label-success"}]).run(["$templateCache",function(i){var a='<div style="height: 81px">   <div id="user-nav" class="navbar navbar-inverse">       <ul class="nav">           <li>               <a href>                   <i class="icon icon-user"></i>                   <span class="text">welcome</span>               </a>           </li>           <li>               <a href ng-click="login()">                   <i class="icon icon-key"></i>                   <span class="text">Login</span>               </a>           </li>       </ul>   </div></div>',e='<div class="row-fluid">   <div id="footer" class="span12">        2014-2015 &copy;Web design by        <a href="https://github.com/microlv/" target="_blank">[microlv]</a>       fork me on github:       <a href="https://github.com/microlv/" target="_blank">[microlv]</a>   </div></div>',l='<div id="sidebar">   <a class="visible-phone" href ui-sref="topic">       <i class="icon icon-home"></i> Dashboard   </a>   <ul>      <li data-ng-repeat="item in layoutSidebarItemSource">          <a data-ng-href="{{item.href}}">              <i class="icon" data-ng-class="item.iStyle"></i>              <span> {{item.topic}}</span>          </a>      </li>   </ul></div>',t='<div id="content">   <div id="content-header">       <div id="breadcrumb">           <a ui-sref="index" title="Go to Home" class="tip-bottom">           <i class="icon-home"></i>Home           </a>       </div>   </div>   <div ui-view></div></div>',s='<ul class="quick-actions">   <li data-ng-class="item.liStyle" data-ng-repeat="item in itemSource">      <a data-ng-href="{{item.href}}">          <i data-ng-class="item.iStyle"></i>          <span data-ng-show="item.number" class="label label-important">{{item.number}}</span>           {{item.topic}}      </a>   </li></ul>',c='<div id="search">   <a href data-ui-sref="about">       <span class="text">About Me</span>   </a>   <a href data-ui-sref="edit-article">       <span class="text">Post Article</span>   </a></div>';i.put("layout-header.html",a),i.put("layout-content.html",t),i.put("layout-footer.html",e),i.put("layout-sidebar.html",l),i.put("layout-search.html",c),i.put("topic-items.html",s)}])}(angular);
!function(t){"use strict";var e=t.module("platform",[]);e.config(["$stateProvider","$urlRouterProvider","$locationProvider",function(t,e){e.otherwise("topic"),t.state("topic",{url:"/topic",templateUrl:"/templates/topic"}).state("article",{url:"/article/:id",templateUrl:"/templates/article"}).state("about",{url:"/about",templateUrl:"/templates/about"}).state("category",{url:"/topic/:category",templateUrl:"/templates/topic/topic-category"}).state("edit-article",{url:"/edit-article",templateUrl:"/templates/edit-article"})}]),e.run(["$rootScope","$state","dialogService",function(){}])}(angular);
!function(n){"use strict";var t=n.module("authentication",[]);window.authentication=window.authentication||{tokenKey:"authentication.key.edu.online",authRequire:"",authSuccess:"",loginSuccess:"",loginFailed:""},t.provider("tokenAuth",function(){this.$get=["$injector","$q",function(){function n(){}var t;return window.localStorage&&(t=window.localStorage),{checkTokenAuth:n}}]}),t.factory("tokenAuthHttpInterceptor",["$rootScope","$q","tokenAuth",function(n,t,e){var o={request:function(n){return n},response:function(n){return n},requestError:function(n){return n},responseError:function(n){return n}};return o}]),t.config(function(){})}(angular);
!function(r){"use strict";r.module("platform").factory("dialogService",["$modal","$templateCache",function(t){return{show:function(e){var o={};r.copy(e,o);var a=t.open(o);return a.result}}}])}(angular);
!function(e){"use strict";e.module("ngWeb").directive("articleItem",["$templateCache","$state",function(e,t){return{restrict:"EA",scope:{item:"="},template:e.get("article-item.html"),link:function(e){e.item.href=t.href("article",{id:e.item._id})}}}])}(angular);
!function(t){"use strict";t.module("ngWeb").directive("layoutHeader",["$templateCache","dialogService",function(t,e){return{restrict:"EA",scope:{},template:t.get("layout-header.html"),controller:function(r){r.login=function(){e.show({template:t.get("login-template.html")})}}}}]).directive("layoutFooter",["$templateCache",function(t){return{restrict:"EA",template:t.get("layout-footer.html")}}]).directive("layoutSidebar",["$templateCache","$state","topicItemSource",function(t,e,r){return{restrict:"EA",template:t.get("layout-sidebar.html"),link:function(t){_.forEach(r,function(t){t.href=e.href("category",{category:t.uiSref})}),t.layoutSidebarItemSource=r}}}]).directive("layoutContent",["$templateCache",function(t){return{restrict:"EA",template:t.get("layout-content.html")}}]).directive("layoutSearch",["$templateCache",function(t){return{restrict:"EA",template:t.get("layout-search.html")}}])}(angular);
!function(t){"use strict";t.module("ngWeb").directive("topicCategory",["$templateCache",function(t){return{restrict:"EA",scope:{itemSource:"="},template:t.get("topic-category.html"),link:function(){}}}])}(angular);
!function(t){"use strict";t.module("ngWeb").directive("topicItems",["$templateCache","topicItemSource","$state",function(t,e,c){return{restrict:"EA",template:t.get("topic-items.html"),link:function(t){_.forEach(e,function(t){t.href=c.href("category",{category:t.uiSref})}),t.itemSource=e}}}])}(angular);
!function(t){"use strict";t.module("ngWeb").controller("editArticleController",["$scope","$http","topicItemSource",function(t,e,n){t.category=n,t.content="",t.title="",t.submit=function(){e({method:"post",url:"/api/saveArticle",data:{category:"javascript",title:t.title,content:t.content}}).then(function(){})}}])}(angular);
!function(n){"use strict";n.module("ngWeb").controller("mainframeController",["$scope",function(){}])}(angular);
!function(t){"use strict";t.module("ngWeb").controller("topicCategoryController",["$scope","$http","$state",function(t,o,e){o.get("/api/topics/"+e.params.category).then(function(o){200===o.status&&(t.itemSource=o.data)})}])}(angular);
!function(t){"use strict";t.module("ngWeb").controller("topicController",["$scope","$http","topicItemSource",function(t,o,n){t.data=n,o.get("/api/topics/grouptopics").then(function(o){if(200===o.status){{t.data}_.forEach(o.data,function(o){var n=_.find(t.data,function(t){return o.topic===t._id});n.number=o.count})}})}])}(angular);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5qcyIsIm5nLXdlYi5qcyIsInBsYXRmb3JtLmpzIiwiYXV0aGVudGljYXRpb24uanMiLCJkaWFsb2ctc2VydmljZS5qcyIsImFydGljbGUtaXRlbS1kaXJlY3RpdmUuanMiLCJsYXlvdXQtZGlyZWN0aXZlLmpzIiwidG9waWMtY2F0ZWdvcnktZGlyZWN0aXZlLmpzIiwidG9waWMtaXRlbS1kaXJlY3RpdmUuanMiLCJlZGl0LWFydGljbGUtY29udHJvbGxlci5qcyIsIm1haW5mcmFtZS1jb250cm9sbGVyLmpzIiwidG9waWMtY2F0ZWdvcnktY29udHJvbGxlci5qcyIsInRvcGljLWNvbnRyb2xsZXIuanMiXSwibmFtZXMiOlsiYW5ndWxhciIsImRlcGVuZEluamVjdCIsImFwcCIsIm1vZHVsZSIsImNvbmZpZyIsImNmcExvYWRpbmdCYXJQcm92aWRlciIsImluY2x1ZGVTcGlubmVyIiwiJHByb3ZpZGUiLCJkZWNvcmF0b3IiLCIkaHR0cCIsIiRkZWxlZ2F0ZSIsIiRpbmplY3RvciIsImxvYWRlZFRlbXBsYXRlVXJsIiwidXJsIiwibWV0aG9kIiwidGhlbiIsInIiLCJnZXQiLCJkYXRhIiwicnVuIiwiJHRlbXBsYXRlQ2FjaGUiLCJ2YWx1ZSIsInRvcGljIiwibGlTdHlsZSIsInVpU3JlZiIsImlTdHlsZSIsInNwYW5TdHlsZSIsImxheW91dEhlYWRlckh0bWwiLCJsYXlvdXRGb290ZXJIdG1sIiwibGF5b3V0U2lkZWJhckh0bWwiLCJsYXlvdXRDb250ZW50SHRtbCIsInRvcGljSXRlbUh0bWwiLCJsYXlvdXRTZWFyY2hIdG1sIiwicHV0IiwicGxhdGZvcm0iLCIkc3RhdGVQcm92aWRlciIsIiR1cmxSb3V0ZXJQcm92aWRlciIsIm90aGVyd2lzZSIsInN0YXRlIiwidGVtcGxhdGVVcmwiLCJhdXRoZW50aWNhdGlvbiIsIndpbmRvdyIsInRva2VuS2V5IiwiYXV0aFJlcXVpcmUiLCJhdXRoU3VjY2VzcyIsImxvZ2luU3VjY2VzcyIsImxvZ2luRmFpbGVkIiwicHJvdmlkZXIiLCJ0aGlzIiwiJGdldCIsImNoZWNrVG9rZW5BdXRoIiwic3RvcmFnZSIsImxvY2FsU3RvcmFnZSIsImZhY3RvcnkiLCIkcm9vdFNjb3BlIiwiJHEiLCJ0b2tlbkF1dGgiLCJpbnRlcmNlcHRvciIsInJlcXVlc3QiLCJyZXNwb25zZSIsInJlcXVlc3RFcnJvciIsInJlamVjdGlvbiIsInJlc3BvbnNlRXJyb3IiLCIkbW9kYWwiLCJzaG93Iiwib3B0aW9ucyIsImRlZmF1bHRPcHRpb25zIiwiY29weSIsIm1vZGFsSW5zdGFuY2UiLCJvcGVuIiwicmVzdWx0IiwiZGlyZWN0aXZlIiwiJHN0YXRlIiwicmVzdHJpY3QiLCJzY29wZSIsIml0ZW0iLCJ0ZW1wbGF0ZSIsImxpbmsiLCJocmVmIiwiaWQiLCJfaWQiLCJkaWFsb2dTZXJ2aWNlIiwiY29udHJvbGxlciIsIiRzY29wZSIsImxvZ2luIiwidG9waWNJdGVtU291cmNlIiwiXyIsImZvckVhY2giLCJrIiwiY2F0ZWdvcnkiLCJsYXlvdXRTaWRlYmFySXRlbVNvdXJjZSIsIml0ZW1Tb3VyY2UiLCJjb250ZW50IiwidGl0bGUiLCJzdWJtaXQiLCJwYXJhbXMiLCJyZXMiLCJzdGF0dXMiLCJ1cGRhdGVJdGVtIiwiZmluZCIsImkiLCJudW1iZXIiLCJjb3VudCJdLCJtYXBwaW5ncyI6IkNBSUEsU0FBV0EsR0FDUCxZQUVBLElBQUlDLElBRUEsWUFDQSxlQUNBLFdBQ0EsaUJBQ0EsUUFDQSxZQUNBLHNCQUNBLGVBSUFDLEVBQU1GLEVBQVFHLE9BQU8sTUFBT0YsRUFFaENDLEdBQUlFLFFBQVEsd0JBQXlCLFNBQVVDLEdBQzNDQSxFQUFzQkMsZ0JBQWlCLEtBRzNDSixFQUFJRSxRQUFRLFdBQVksU0FBVUcsR0FDOUJBLEVBQVNDLFVBQVUsa0JBQW1CLFFBQVMsWUFBYSxZQUFhLFNBQVVDLEVBQU9DLEVBQVdDLEdBU2pHLE1BUkFELEdBQVVFLGtCQUFvQixTQUFVQyxHQUNwQ0osR0FDSUksSUFBS0EsRUFDTEMsT0FBUSxRQUNUQyxLQUFLLFNB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Q0pkLEVBQU9RLFdBQWFLLEVBQUk5RSxZQUt6Q2xCO0NDYkgsU0FBV0EsR0FDUCxZQUtBQSxHQUFRRyxPQUFPLFNBQVMrRSxXQUFXLG1CQUFvQixTQUFVLFFBQVMsa0JBQ3RFLFNBQVVDLEVBQVExRSxFQUFPNEUsR0FDckJGLEVBQU9qRSxLQUFPbUUsRUFDZDVFLEVBQU1RLElBQUksMkJBQTJCRixLQUFLLFNBQVU0QyxHQUNoRCxHQUF3QixNQUFwQkEsRUFBU3NDLE9BQWdCLENBQ3pCLENBQVFkLEVBQU9qRSxLQUVmb0UsRUFBRUMsUUFBUTVCLEVBQVN6QyxLQUFNLFNBQVVzRSxHQUMvQixHQUFJVSxHQUFhWixFQUFFYSxLQUFLaEIsRUFBT2pFLEtBQU0sU0FBVWtGLEdBQzNDLE1BQU9aLEdBQUVsRSxRQUFVOEUsRUFBRXBCLEtBRXpCa0IsR0FBV0csT0FBU2IsRUFBRWMsZUFNM0N0RyIsImZpbGUiOiJuZy13ZWIubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXHJcbiAqIENyZWF0ZWQgYnkgQW5keS5MdiBvbiAyMDE0LzExLzMuXHJcbiAqL1xyXG5cclxuKGZ1bmN0aW9uIChhbmd1bGFyKSB7XHJcbiAgICAndXNlIHN0cmljdCc7XHJcblxyXG4gICAgdmFyIGRlcGVuZEluamVjdCA9IFtcclxuLy8gICAgICAgICduZ0FuaW1hdGUnLFxyXG4gICAgICAgICd1aS5yb3V0ZXInLFxyXG4gICAgICAgICd1aS5ib290c3RyYXAnLFxyXG4gICAgICAgICdwbGF0Zm9ybScsXHJcbiAgICAgICAgJ2F1dGhlbnRpY2F0aW9uJyxcclxuICAgICAgICAnbmdXZWInLFxyXG4gICAgICAgICduZ01lc3NhZ2UnLFxyXG4gICAgICAgICdhbmd1bGFyLWxvYWRpbmctYmFyJyxcclxuICAgICAgICAndGV4dEFuZ3VsYXInXHJcbiAgICBdO1xyXG4gICAgLy93aW5kb3cuZ2xvYmVQYXRoPSAnaHR0cDovL2xvY2FsaG9zdDozMDAwJztcclxuXHJcbiAgICB2YXIgYXBwID0gYW5ndWxhci5tb2R1bGUoJ2FwcCcsIGRlcGVuZEluamVjdCk7XHJcblxyXG4gICAgYXBwLmNvbmZpZyhbJ2NmcExvYWRpbmdCYXJQcm92aWRlcicsIGZ1bmN0aW9uIChjZnBMb2FkaW5nQmFyUHJvdmlkZXIpIHtcclxuICAgICAgICBjZnBMb2FkaW5nQmFyUHJvdmlkZXIuaW5jbHVkZVNwaW5uZXIgPSBmYWxzZTtcclxuICAgIH1dKTtcclxuXHJcbiAgICBhcHAuY29uZmlnKFsnJHByb3ZpZGUnLCBmdW5jdGlvbiAoJHByb3ZpZGUpIHtcclxuICAgICAgICAkcHJvdmlkZS5kZWNvcmF0b3IoJyR0ZW1wbGF0ZUNhY2hlJywgWyckaHR0cCcsICckZGVsZWdhdGUnLCAnJGluamVjdG9yJywgZnVuY3Rpb24gKCRodHRwLCAkZGVsZWdhdGUsICRpbmplY3Rvcikge1xyXG4gICAgICAgICAgICAkZGVsZWdhdGUubG9hZGVkVGVtcGxhdGVVcmwgPSBmdW5jdGlvbiAodXJsKSB7XHJcbiAgICAgICAgICAgICAgICAkaHR0cCh7XHJcbiAgICAgICAgICAgICAgICAgICAgdXJsOiB1cmwsXHJcbiAgICAgICAgICAgICAgICAgICAgbWV0aG9kOiAnR0VUJ1xyXG4gICAgICAgICAgICAgICAgfSkudGhlbihmdW5jdGlvbiAocikge1xyXG4gICAgICAgICAgICAgICAgICAgICRpbmplY3Rvci5nZXQoJyRjb21waWxlJykoci5kYXRhKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICByZXR1cm4gJGRlbGVnYXRlO1xyXG4gICAgICAgIH1dKTtcclxuICAgIH1dKTtcclxuXHJcbiAgICBhcHAucnVuKFsnJHRlbXBsYXRlQ2FjaGUnLCAnJGh0dHAnLCAnJGNvbXBpbGUnLCBmdW5jdGlvbiAoJHRlbXBsYXRlQ2FjaGUsICRodHRwLCAkY29tcGlsZSkge1xyXG4gICAgICAgICR0ZW1wbGF0ZUNhY2hlLmxvYWRlZFRlbXBsYXRlVXJsKCcvdGVtcGxhdGUvbmctdGVtcGxhdGUuaHRtbCcpO1xyXG4gICAgfV0pO1xyXG5cclxuXHJcbn0pKGFuZ3VsYXIpO1xyXG5cclxuLy9hbmd1bGFyLmJvb3RzdHJhcChkb2N1bWVudCwgWydhcHAnXSk7XHJcbiIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IEFuZHkuTHYgb24gMjAxNC8xMS8xMy5cclxuICovXHJcbihmdW5jdGlvbiAoYW5ndWxhcikge1xyXG4gICAgJ3VzZSBzdHJpY3QnO1xyXG5cclxuICAgIGFuZ3VsYXIubW9kdWxlKCduZ1dlYicsIFtdKVxyXG4gICAgICAgIC52YWx1ZSgndG9waWNJdGVtU291cmNlJywgW1xyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICB0b3BpYzogJ0phdmFzY3JpcHQnLFxyXG4gICAgICAgICAgICAgICAgbGlTdHlsZTogJ2JnX2xnIHNwYW4zJyxcclxuICAgICAgICAgICAgICAgIHVpU3JlZjogJ2phdmFzY3JpcHQnLFxyXG4gICAgICAgICAgICAgICAgaVN0eWxlOiAnaWNvbi1zaWduYWwnLFxyXG4gICAgICAgICAgICAgICAgc3BhblN0eWxlOiAnbGFiZWwgbGFiZWwtc3VjY2VzcydcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgdG9waWM6ICdBbmd1bGFyanMnLFxyXG4gICAgICAgICAgICAgICAgbGlTdHlsZTogJ2JnX2xiJyxcclxuICAgICAgICAgICAgICAgIHVpU3JlZjogJ2FuZ3VsYXJqcycsXHJcbiAgICAgICAgICAgICAgICBpU3R5bGU6ICdpY29uLWRhc2hib2FyZCcsXHJcbiAgICAgICAgICAgICAgICBzcGFuU3R5bGU6ICdsYWJlbCBsYWJlbC1zdWNjZXNzJ1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICB0b3BpYzogJ05vZGVKUycsXHJcbiAgICAgICAgICAgICAgICBsaVN0eWxlOiAnYmdfbHkgc3BhbjInLFxyXG4gICAgICAgICAgICAgICAgdWlTcmVmOiAnbm9kZWpzJyxcclxuICAgICAgICAgICAgICAgIGlTdHlsZTogJ2ljb24taW5ib3gnLFxyXG4gICAgICAgICAgICAgICAgc3BhblN0eWxlOiAnbGFiZWwgbGFiZWwtc3VjY2VzcydcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgdG9waWM6ICdDIycsXHJcbiAgICAgICAgICAgICAgICBsaVN0eWxlOiAnYmdfbG8gc3BhbjMnLFxyXG4gICAgICAgICAgICAgICAgdWlTcmVmOiAnY3NoYXJwJyxcclxuICAgICAgICAgICAgICAgIGlTdHlsZTogJ2ljb24tdGgnLFxyXG4gICAgICAgICAgICAgICAgc3BhblN0eWxlOiAnbGFiZWwgbGFiZWwtc3VjY2VzcydcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgdG9waWM6ICdNb25nb0RCJyxcclxuICAgICAgICAgICAgICAgIGxpU3R5bGU6ICdiZ19scycsXHJcbiAgICAgICAgICAgICAgICB1aVNyZWY6ICdtb25nb2RiJyxcclxuICAgICAgICAgICAgICAgIGlTdHlsZTogJ2ljb24tZnVsbHNjcmVlbicsXHJcbiAgICAgICAgICAgICAgICBzcGFuU3R5bGU6ICdsYWJlbCBsYWJlbC1zdWNjZXNzJ1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICB0b3BpYzogJ1NRTCcsXHJcbiAgICAgICAgICAgICAgICBsaVN0eWxlOiAnYmdfbG8nLFxyXG4gICAgICAgICAgICAgICAgdWlTcmVmOiAnc3FsJyxcclxuICAgICAgICAgICAgICAgIGlTdHlsZTogJ2ljb24tdGgtbGlzdCcsXHJcbiAgICAgICAgICAgICAgICBzcGFuU3R5bGU6ICdsYWJlbCBsYWJlbC1zdWNjZXNzJ1xyXG4gICAgICAgICAgICB9XSlcclxuICAgICAgICAucnVuKFsnJHRlbXBsYXRlQ2FjaGUnLCBmdW5jdGlvbiAoJHRlbXBsYXRlQ2FjaGUpIHtcclxuXHJcbiAgICAgICAgICAgIHZhciBsYXlvdXRIZWFkZXJIdG1sID1cclxuICAgICAgICAgICAgICAgICc8ZGl2IHN0eWxlPVwiaGVpZ2h0OiA4MXB4XCI+JyArXHJcbiAgICAgICAgICAgICAgICAnICAgPGRpdiBpZD1cInVzZXItbmF2XCIgY2xhc3M9XCJuYXZiYXIgbmF2YmFyLWludmVyc2VcIj4nICtcclxuICAgICAgICAgICAgICAgICcgICAgICAgPHVsIGNsYXNzPVwibmF2XCI+JyArXHJcbiAgICAgICAgICAgICAgICAnICAgICAgICAgICA8bGk+JyArXHJcbiAgICAgICAgICAgICAgICAnICAgICAgICAgICAgICAgPGEgaHJlZj4nICtcclxuICAgICAgICAgICAgICAgICcgICAgICAgICAgICAgICAgICAgPGkgY2xhc3M9XCJpY29uIGljb24tdXNlclwiPjwvaT4nICtcclxuICAgICAgICAgICAgICAgICcgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJ0ZXh0XCI+d2VsY29tZTwvc3Bhbj4nICtcclxuICAgICAgICAgICAgICAgICcgICAgICAgICAgICAgICA8L2E+JyArXHJcbiAgICAgICAgICAgICAgICAnICAgICAgICAgICA8L2xpPicgK1xyXG4gICAgICAgICAgICAgICAgJyAgICAgICAgICAgPGxpPicgK1xyXG4gICAgICAgICAgICAgICAgJyAgICAgICAgICAgICAgIDxhIGhyZWYgbmctY2xpY2s9XCJsb2dpbigpXCI+JyArXHJcbiAgICAgICAgICAgICAgICAnICAgICAgICAgICAgICAgICAgIDxpIGNsYXNzPVwiaWNvbiBpY29uLWtleVwiPjwvaT4nICtcclxuICAgICAgICAgICAgICAgICcgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJ0ZXh0XCI+TG9naW48L3NwYW4+JyArXHJcbiAgICAgICAgICAgICAgICAnICAgICAgICAgICAgICAgPC9hPicgK1xyXG4gICAgICAgICAgICAgICAgJyAgICAgICAgICAgPC9saT4nICtcclxuICAgICAgICAgICAgICAgICcgICAgICAgPC91bD4nICtcclxuICAgICAgICAgICAgICAgICcgICA8L2Rpdj4nICtcclxuICAgICAgICAgICAgICAgICc8L2Rpdj4nO1xyXG5cclxuICAgICAgICAgICAgdmFyIGxheW91dEZvb3Rlckh0bWwgPVxyXG4gICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJyb3ctZmx1aWRcIj4nICtcclxuICAgICAgICAgICAgICAgICcgICA8ZGl2IGlkPVwiZm9vdGVyXCIgY2xhc3M9XCJzcGFuMTJcIj4gJyArXHJcbiAgICAgICAgICAgICAgICAnICAgICAgIDIwMTQtMjAxNSAmY29weTtXZWIgZGVzaWduIGJ5ICcgK1xyXG4gICAgICAgICAgICAgICAgJyAgICAgICA8YSBocmVmPVwiaHR0cHM6Ly9naXRodWIuY29tL21pY3JvbHYvXCIgdGFyZ2V0PVwiX2JsYW5rXCI+W21pY3JvbHZdPC9hPicgK1xyXG4gICAgICAgICAgICAgICAgJyAgICAgICBmb3JrIG1lIG9uIGdpdGh1YjonICtcclxuICAgICAgICAgICAgICAgICcgICAgICAgPGEgaHJlZj1cImh0dHBzOi8vZ2l0aHViLmNvbS9taWNyb2x2L1wiIHRhcmdldD1cIl9ibGFua1wiPlttaWNyb2x2XTwvYT4nICtcclxuICAgICAgICAgICAgICAgICcgICA8L2Rpdj4nICtcclxuICAgICAgICAgICAgICAgICc8L2Rpdj4nO1xyXG5cclxuICAgICAgICAgICAgdmFyIGxheW91dFNpZGViYXJIdG1sID1cclxuICAgICAgICAgICAgICAgICc8ZGl2IGlkPVwic2lkZWJhclwiPicgK1xyXG4gICAgICAgICAgICAgICAgJyAgIDxhIGNsYXNzPVwidmlzaWJsZS1waG9uZVwiIGhyZWYgdWktc3JlZj1cInRvcGljXCI+JyArXHJcbiAgICAgICAgICAgICAgICAnICAgICAgIDxpIGNsYXNzPVwiaWNvbiBpY29uLWhvbWVcIj48L2k+IERhc2hib2FyZCcgK1xyXG4gICAgICAgICAgICAgICAgJyAgIDwvYT4nICtcclxuICAgICAgICAgICAgICAgICcgICA8dWw+JyArXHJcbiAgICAgICAgICAgICAgICAnICAgICAgPGxpIGRhdGEtbmctcmVwZWF0PVwiaXRlbSBpbiBsYXlvdXRTaWRlYmFySXRlbVNvdXJjZVwiPicgK1xyXG4gICAgICAgICAgICAgICAgJyAgICAgICAgICA8YSBkYXRhLW5nLWhyZWY9XCJ7e2l0ZW0uaHJlZn19XCI+JyArXHJcbiAgICAgICAgICAgICAgICAnICAgICAgICAgICAgICA8aSBjbGFzcz1cImljb25cIiBkYXRhLW5nLWNsYXNzPVwiaXRlbS5pU3R5bGVcIj48L2k+JyArXHJcbiAgICAgICAgICAgICAgICAnICAgICAgICAgICAgICA8c3Bhbj4ge3tpdGVtLnRvcGljfX08L3NwYW4+JyArXHJcbiAgICAgICAgICAgICAgICAnICAgICAgICAgIDwvYT4nICtcclxuICAgICAgICAgICAgICAgICcgICAgICA8L2xpPicgK1xyXG4gICAgICAgICAgICAgICAgJyAgIDwvdWw+JyArXHJcbiAgICAgICAgICAgICAgICAnPC9kaXY+JztcclxuXHJcbiAgICAgICAgICAgIHZhciBsYXlvdXRDb250ZW50SHRtbCA9XHJcbiAgICAgICAgICAgICAgICAnPGRpdiBpZD1cImNvbnRlbnRcIj4nICtcclxuICAgICAgICAgICAgICAgICcgICA8ZGl2IGlkPVwiY29udGVudC1oZWFkZXJcIj4nICtcclxuICAgICAgICAgICAgICAgICcgICAgICAgPGRpdiBpZD1cImJyZWFkY3J1bWJcIj4nICtcclxuICAgICAgICAgICAgICAgICcgICAgICAgICAgIDxhIHVpLXNyZWY9XCJpbmRleFwiIHRpdGxlPVwiR28gdG8gSG9tZVwiIGNsYXNzPVwidGlwLWJvdHRvbVwiPicgK1xyXG4gICAgICAgICAgICAgICAgJyAgICAgICAgICAgPGkgY2xhc3M9XCJpY29uLWhvbWVcIj48L2k+SG9tZScgK1xyXG4gICAgICAgICAgICAgICAgJyAgICAgICAgICAgPC9hPicgK1xyXG4gICAgICAgICAgICAgICAgJyAgICAgICA8L2Rpdj4nICtcclxuICAgICAgICAgICAgICAgICcgICA8L2Rpdj4nICtcclxuICAgICAgICAgICAgICAgICcgICA8ZGl2IHVpLXZpZXc+PC9kaXY+JyArXHJcbiAgICAgICAgICAgICAgICAnPC9kaXY+JztcclxuXHJcbiAgICAgICAgICAgIHZhciB0b3BpY0l0ZW1IdG1sID1cclxuICAgICAgICAgICAgICAgICc8dWwgY2xhc3M9XCJxdWljay1hY3Rpb25zXCI+JyArXHJcbiAgICAgICAgICAgICAgICAnICAgPGxpIGRhdGEtbmctY2xhc3M9XCJpdGVtLmxpU3R5bGVcIiBkYXRhLW5nLXJlcGVhdD1cIml0ZW0gaW4gaXRlbVNvdXJjZVwiPicgK1xyXG4gICAgICAgICAgICAgICAgJyAgICAgIDxhIGRhdGEtbmctaHJlZj1cInt7aXRlbS5ocmVmfX1cIj4nICtcclxuICAgICAgICAgICAgICAgICcgICAgICAgICAgPGkgZGF0YS1uZy1jbGFzcz1cIml0ZW0uaVN0eWxlXCI+PC9pPicgK1xyXG4gICAgICAgICAgICAgICAgJyAgICAgICAgICA8c3BhbiBkYXRhLW5nLXNob3c9XCJpdGVtLm51bWJlclwiIGNsYXNzPVwibGFiZWwgbGFiZWwtaW1wb3J0YW50XCI+e3tpdGVtLm51bWJlcn19PC9zcGFuPicgK1xyXG4gICAgICAgICAgICAgICAgJyAgICAgICAgICAge3tpdGVtLnRvcGljfX0nICtcclxuICAgICAgICAgICAgICAgICcgICAgICA8L2E+JyArXHJcbiAgICAgICAgICAgICAgICAnICAgPC9saT4nICtcclxuICAgICAgICAgICAgICAgICc8L3VsPic7XHJcblxyXG4gICAgICAgICAgICB2YXIgbGF5b3V0U2VhcmNoSHRtbCA9XHJcbiAgICAgICAgICAgICAgICAnPGRpdiBpZD1cInNlYXJjaFwiPicgK1xyXG4gICAgICAgICAgICAgICAgJyAgIDxhIGhyZWYgZGF0YS11aS1zcmVmPVwiYWJvdXRcIj4nICtcclxuICAgICAgICAgICAgICAgICcgICAgICAgPHNwYW4gY2xhc3M9XCJ0ZXh0XCI+QWJvdXQgTWU8L3NwYW4+JyArXHJcbiAgICAgICAgICAgICAgICAnICAgPC9hPicgK1xyXG4gICAgICAgICAgICAgICAgJyAgIDxhIGhyZWYgZGF0YS11aS1zcmVmPVwiZWRpdC1hcnRpY2xlXCI+JyArXHJcbiAgICAgICAgICAgICAgICAnICAgICAgIDxzcGFuIGNsYXNzPVwidGV4dFwiPlBvc3QgQXJ0aWNsZTwvc3Bhbj4nICtcclxuICAgICAgICAgICAgICAgICcgICA8L2E+JyArXHJcbiAgICAgICAgICAgICAgICAnPC9kaXY+JztcclxuXHJcbiAgICAgICAgICAgICR0ZW1wbGF0ZUNhY2hlLnB1dCgnbGF5b3V0LWhlYWRlci5odG1sJywgbGF5b3V0SGVhZGVySHRtbCk7XHJcbiAgICAgICAgICAgICR0ZW1wbGF0ZUNhY2hlLnB1dCgnbGF5b3V0LWNvbnRlbnQuaHRtbCcsIGxheW91dENvbnRlbnRIdG1sKTtcclxuICAgICAgICAgICAgJHRlbXBsYXRlQ2FjaGUucHV0KCdsYXlvdXQtZm9vdGVyLmh0bWwnLCBsYXlvdXRGb290ZXJIdG1sKTtcclxuICAgICAgICAgICAgJHRlbXBsYXRlQ2FjaGUucHV0KCdsYXlvdXQtc2lkZWJhci5odG1sJywgbGF5b3V0U2lkZWJhckh0bWwpO1xyXG4gICAgICAgICAgICAkdGVtcGxhdGVDYWNoZS5wdXQoJ2xheW91dC1zZWFyY2guaHRtbCcsIGxheW91dFNlYXJjaEh0bWwpO1xyXG4gICAgICAgICAgICAkdGVtcGxhdGVDYWNoZS5wdXQoJ3RvcGljLWl0ZW1zLmh0bWwnLCB0b3BpY0l0ZW1IdG1sKTtcclxuXHJcbiAgICAgICAgfV0pO1xyXG5cclxufSkoYW5ndWxhcik7IiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgQW5keS5MdiBvbiAyMDE0LzExLzEwLlxyXG4gKi9cclxuXHJcbihmdW5jdGlvbiAoYW5ndWxhcikge1xyXG4gICAgJ3VzZSBzdHJpY3QnO1xyXG5cclxuXHJcbiAgICB2YXIgcGxhdGZvcm0gPSBhbmd1bGFyLm1vZHVsZSgncGxhdGZvcm0nLCBbXSk7XHJcblxyXG4gICAgcGxhdGZvcm0uY29uZmlnKFsnJHN0YXRlUHJvdmlkZXInLCAnJHVybFJvdXRlclByb3ZpZGVyJywgJyRsb2NhdGlvblByb3ZpZGVyJyxcclxuICAgICAgICBmdW5jdGlvbiAoJHN0YXRlUHJvdmlkZXIsICR1cmxSb3V0ZXJQcm92aWRlciwgJGxvY2F0aW9uUHJvdmlkZXIpIHtcclxuICAgICAgICAgICAgLy8kbG9jYXRpb25Qcm92aWRlci5odG1sNU1vZGUodHJ1ZSk7XHJcbiAgICAgICAgICAgICR1cmxSb3V0ZXJQcm92aWRlci5vdGhlcndpc2UoJ3RvcGljJyk7XHJcblxyXG4gICAgICAgICAgICAkc3RhdGVQcm92aWRlclxyXG4gICAgICAgICAgICAgICAgLnN0YXRlKCd0b3BpYycsIHtcclxuICAgICAgICAgICAgICAgICAgICB1cmw6ICcvdG9waWMnLCB0ZW1wbGF0ZVVybDogJy90ZW1wbGF0ZXMvdG9waWMnXHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgLnN0YXRlKCdhcnRpY2xlJywge1xyXG4gICAgICAgICAgICAgICAgICAgIHVybDogJy9hcnRpY2xlLzppZCcsIHRlbXBsYXRlVXJsOiAnL3RlbXBsYXRlcy9hcnRpY2xlJ1xyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIC5zdGF0ZSgnYWJvdXQnLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgdXJsOiAnL2Fib3V0JywgdGVtcGxhdGVVcmw6ICcvdGVtcGxhdGVzL2Fib3V0J1xyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIC5zdGF0ZSgnY2F0ZWdvcnknLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgdXJsOiAnL3RvcGljLzpjYXRlZ29yeScsIHRlbXBsYXRlVXJsOiAnL3RlbXBsYXRlcy90b3BpYy90b3BpYy1jYXRlZ29yeSdcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAuc3RhdGUoJ2VkaXQtYXJ0aWNsZScsIHtcclxuICAgICAgICAgICAgICAgICAgICB1cmw6ICcvZWRpdC1hcnRpY2xlJywgdGVtcGxhdGVVcmw6ICcvdGVtcGxhdGVzL2VkaXQtYXJ0aWNsZSdcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1dKTtcclxuXHJcbiAgICBwbGF0Zm9ybS5ydW4oWyckcm9vdFNjb3BlJywgJyRzdGF0ZScsICdkaWFsb2dTZXJ2aWNlJywgZnVuY3Rpb24gKCRyb290U2NvcGUsICRzdGF0ZSwgZGlhbG9nU2VydmljZSkge1xyXG4gICAgICAgIC8vJHJvb3RTY29wZS4kb24oJyRyb3V0ZUNoYW5nZVN0YXJ0JywgZnVuY3Rpb24gKGV2dCwgbmV4dCwgY3VycmVudCkge1xyXG4gICAgICAgIC8vICAgIGRpYWxvZ1NlcnZpY2Uuc2hvdygpO1xyXG4gICAgICAgIC8vXHJcbiAgICAgICAgLy8gICAgY29uc29sZS5sb2coY3VycmVudCk7XHJcbiAgICAgICAgLy8gICAgY29uc29sZS5sb2cobmV4dCk7XHJcbiAgICAgICAgLy99KTtcclxuICAgICAgICAvLyRyb290U2NvcGUuJG9uKCd3aW5kb3cuYXV0aGVudGljYXRpb24uYXV0aFJlcXVpcmUnLCBmdW5jdGlvbiAoZXZ0LCBuZXh0LCBjdXJyZW50KSB7XHJcbiAgICAgICAgLy8gICAgJHN0YXRlLmdvKCdsb2dpbicpO1xyXG4gICAgICAgIC8vfSk7XHJcblxyXG4gICAgfV0pO1xyXG5cclxufSkoYW5ndWxhcik7XHJcblxyXG4iLCIvKipcclxuICogQ3JlYXRlZCBieSBBbmR5Lkx2IG9uIDIwMTQvMTEvMTEuXHJcbiAqL1xyXG5cclxuKGZ1bmN0aW9uIChhbmd1bGFyKSB7XHJcbiAgICAndXNlIHN0cmljdCc7XHJcblxyXG4gICAgdmFyIGF1dGhlbnRpY2F0aW9uID0gYW5ndWxhci5tb2R1bGUoJ2F1dGhlbnRpY2F0aW9uJywgW10pO1xyXG5cclxuICAgIHdpbmRvdy5hdXRoZW50aWNhdGlvbiA9IHdpbmRvdy5hdXRoZW50aWNhdGlvbiB8fCB7XHJcbiAgICAgICAgdG9rZW5LZXk6ICdhdXRoZW50aWNhdGlvbi5rZXkuZWR1Lm9ubGluZScsXHJcbiAgICAgICAgYXV0aFJlcXVpcmU6ICcnLFxyXG4gICAgICAgIGF1dGhTdWNjZXNzOiAnJyxcclxuICAgICAgICBsb2dpblN1Y2Nlc3M6ICcnLFxyXG4gICAgICAgIGxvZ2luRmFpbGVkOiAnJ1xyXG4gICAgfTtcclxuXHJcbiAgICBhdXRoZW50aWNhdGlvbi5wcm92aWRlcigndG9rZW5BdXRoJywgZnVuY3Rpb24gKCkge1xyXG5cclxuICAgICAgICB0aGlzLiRnZXQgPSBbJyRpbmplY3RvcicsICckcScsIGZ1bmN0aW9uICgkaW5qZWN0b3IsICRxKSB7XHJcbiAgICAgICAgICAgIHZhciBzdG9yYWdlO1xyXG4gICAgICAgICAgICBpZiAod2luZG93LmxvY2FsU3RvcmFnZSkge1xyXG4gICAgICAgICAgICAgICAgc3RvcmFnZSA9IHdpbmRvdy5sb2NhbFN0b3JhZ2U7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIGxvZ2luKG5hbWUsIHBhc3N3b3JkKSB7XHJcblxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBmdW5jdGlvbiBjaGVja1Rva2VuQXV0aCgpIHtcclxuXHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIGdldFRva2VuQXV0aCgpIHtcclxuICAgICAgICAgICAgICAgIHZhciB0b2tlbktleSA9IHN0b3JhZ2UuZ2V0SXRlbSh3aW5kb3cuYXV0aGVudGljYXRpb24udG9rZW5LZXkpO1xyXG4gICAgICAgICAgICAgICAgdmFyIGpzb24gPSBKU09OLnBhcnNlKHRva2VuS2V5KTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBqc29uO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICByZXR1cm4ge2NoZWNrVG9rZW5BdXRoOiBjaGVja1Rva2VuQXV0aH07XHJcbiAgICAgICAgfV07XHJcbiAgICB9KTtcclxuXHJcbiAgICBhdXRoZW50aWNhdGlvbi5mYWN0b3J5KCd0b2tlbkF1dGhIdHRwSW50ZXJjZXB0b3InLCBbJyRyb290U2NvcGUnLCAnJHEnLCAndG9rZW5BdXRoJywgZnVuY3Rpb24gKCRyb290U2NvcGUsICRxLCB0b2tlbkF1dGgpIHtcclxuICAgICAgICBmdW5jdGlvbiBjaGVja1Rva2VuQXV0aCgpIHtcclxuICAgICAgICAgICAgaWYgKHRva2VuQXV0aC5jaGVja1Rva2VuQXV0aCgpKSB7XHJcbiAgICAgICAgICAgICAgICAkcm9vdFNjb3BlLiRicm9hZGNhc3Qod2luZG93LmF1dGhlbnRpY2F0aW9uLmF1dGhTdWNjZXNzKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICRyb290U2NvcGUuJGJyb2FkY2FzdCh3aW5kb3cuYXV0aGVudGljYXRpb24uYXV0aFJlcXVpcmUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB2YXIgaW50ZXJjZXB0b3IgPSB7XHJcbiAgICAgICAgICAgICdyZXF1ZXN0JzogZnVuY3Rpb24gKGNvbmZpZykge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvbmZpZztcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgJ3Jlc3BvbnNlJzogZnVuY3Rpb24gKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2U7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICdyZXF1ZXN0RXJyb3InOiBmdW5jdGlvbiAocmVqZWN0aW9uKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVqZWN0aW9uO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAncmVzcG9uc2VFcnJvcic6IGZ1bmN0aW9uIChyZWplY3Rpb24pIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiByZWplY3Rpb247XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICAgIHJldHVybiBpbnRlcmNlcHRvcjtcclxuICAgIH1dKTtcclxuXHJcbiAgICBhdXRoZW50aWNhdGlvbi5jb25maWcoZnVuY3Rpb24gKCRodHRwUHJvdmlkZXIpIHtcclxuICAgICAgICAvLyRodHRwUHJvdmlkZXIuaW50ZXJjZXB0b3JzLnB1c2goJ3Rva2VuQXV0aEh0dHBJbnRlcmNlcHRvcicpO1xyXG4gICAgfSk7XHJcblxyXG59KShhbmd1bGFyKTtcclxuXHJcbiIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IEFuZHkuTHYgb24gMjAxNC8xMS8xMi5cclxuICovXHJcblxyXG4oZnVuY3Rpb24gKGFuZ3VsYXIpIHtcclxuICAgICd1c2Ugc3RyaWN0JztcclxuXHJcbiAgICBhbmd1bGFyLm1vZHVsZSgncGxhdGZvcm0nKS5mYWN0b3J5KCdkaWFsb2dTZXJ2aWNlJywgWyckbW9kYWwnLCAnJHRlbXBsYXRlQ2FjaGUnLCBmdW5jdGlvbiAoJG1vZGFsLCAkdGVtcGxhdGVDYWNoZSkge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIHNob3c6IGZ1bmN0aW9uIChvcHRpb25zKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgZGVmYXVsdE9wdGlvbnMgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy90ZW1wbGF0ZTogb3B0aW9ucy50ZW1wbGF0ZVxyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgIGFuZ3VsYXIuY29weShvcHRpb25zLCBkZWZhdWx0T3B0aW9ucyk7XHJcbiAgICAgICAgICAgICAgICB2YXIgbW9kYWxJbnN0YW5jZSA9ICRtb2RhbC5vcGVuKGRlZmF1bHRPcHRpb25zKTtcclxuXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbW9kYWxJbnN0YW5jZS5yZXN1bHQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgfV0pO1xyXG4gICAgLy8uY29udHJvbGxlcignZGlhbG9nQ29udHJvbGxlcicsIFsnJHNjb3BlJywgJyRtb2RhbEluc3RhbmNlJywgZnVuY3Rpb24gKCRzY29wZSwgJG1vZGFsSW5zdGFuY2UpIHtcclxuICAgIC8vXHQkc2NvcGUub2sgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAvL1x0XHQkbW9kYWxJbnN0YW5jZS5jbG9zZSh7dHlwZTogdHJ1ZSwgZGF0YTogJHNjb3BlLmRhdGF9KTtcclxuICAgIC8vXHR9O1xyXG4gICAgLy9cdCRzY29wZS5jYW5jZWwgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAvL1x0XHQkbW9kYWxJbnN0YW5jZS5kaXNtaXNzKHt0eXBlOiBmYWxzZX0pO1xyXG4gICAgLy9cdH07XHJcbiAgICAvL31dKTtcclxufSkoYW5ndWxhcik7XHJcbiIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IEFuZHkuTHYgb24gMjAxNS8xLzE0LlxyXG4gKi9cclxuXHJcbihmdW5jdGlvbiAoYW5ndWxhcikge1xyXG4gICAgJ3VzZSBzdHJpY3QnO1xyXG5cclxuICAgIGFuZ3VsYXIubW9kdWxlKCduZ1dlYicpLmRpcmVjdGl2ZSgnYXJ0aWNsZUl0ZW0nLCBbJyR0ZW1wbGF0ZUNhY2hlJywgJyRzdGF0ZScsIGZ1bmN0aW9uICgkdGVtcGxhdGVDYWNoZSwgJHN0YXRlKSB7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgcmVzdHJpY3Q6ICdFQScsXHJcbiAgICAgICAgICAgIHNjb3BlOiB7XHJcbiAgICAgICAgICAgICAgICBpdGVtOiAnPSdcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgdGVtcGxhdGU6ICR0ZW1wbGF0ZUNhY2hlLmdldCgnYXJ0aWNsZS1pdGVtLmh0bWwnKSxcclxuICAgICAgICAgICAgbGluazogZnVuY3Rpb24gKHNjb3BlLCBlbGUsIGF0dCkge1xyXG4gICAgICAgICAgICAgICAgc2NvcGUuaXRlbS5ocmVmID0gJHN0YXRlLmhyZWYoJ2FydGljbGUnLCB7aWQ6IHNjb3BlLml0ZW0uX2lkfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgfV0pO1xyXG5cclxufSkoYW5ndWxhcik7XHJcbiIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IEFuZHkuTHYgb24gMjAxNC8xMi8yNC5cclxuICovXHJcblxyXG4oZnVuY3Rpb24gKGFuZ3VsYXIpIHtcclxuICAgICd1c2Ugc3RyaWN0JztcclxuXHJcbiAgICBhbmd1bGFyLm1vZHVsZSgnbmdXZWInKVxyXG4gICAgICAgIC5kaXJlY3RpdmUoJ2xheW91dEhlYWRlcicsIFsnJHRlbXBsYXRlQ2FjaGUnLCAnZGlhbG9nU2VydmljZScsIGZ1bmN0aW9uICgkdGVtcGxhdGVDYWNoZSwgZGlhbG9nU2VydmljZSkge1xyXG4gICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgcmVzdHJpY3Q6ICdFQScsXHJcbiAgICAgICAgICAgICAgICBzY29wZToge30sXHJcbiAgICAgICAgICAgICAgICB0ZW1wbGF0ZTogJHRlbXBsYXRlQ2FjaGUuZ2V0KCdsYXlvdXQtaGVhZGVyLmh0bWwnKSxcclxuICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6IGZ1bmN0aW9uICgkc2NvcGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUubG9naW4gPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRpYWxvZ1NlcnZpY2Uuc2hvdyh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZTogJHRlbXBsYXRlQ2FjaGUuZ2V0KCdsb2dpbi10ZW1wbGF0ZS5odG1sJylcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfTtcclxuICAgICAgICB9XSlcclxuICAgICAgICAuZGlyZWN0aXZlKCdsYXlvdXRGb290ZXInLCBbJyR0ZW1wbGF0ZUNhY2hlJywgZnVuY3Rpb24gKCR0ZW1wbGF0ZUNhY2hlKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICByZXN0cmljdDogJ0VBJyxcclxuICAgICAgICAgICAgICAgIHRlbXBsYXRlOiAkdGVtcGxhdGVDYWNoZS5nZXQoJ2xheW91dC1mb290ZXIuaHRtbCcpXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgfV0pXHJcbiAgICAgICAgLmRpcmVjdGl2ZSgnbGF5b3V0U2lkZWJhcicsIFsnJHRlbXBsYXRlQ2FjaGUnLCAnJHN0YXRlJywgJ3RvcGljSXRlbVNvdXJjZScsIGZ1bmN0aW9uICgkdGVtcGxhdGVDYWNoZSwgJHN0YXRlLCB0b3BpY0l0ZW1Tb3VyY2UpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgIHJlc3RyaWN0OiAnRUEnLFxyXG4gICAgICAgICAgICAgICAgdGVtcGxhdGU6ICR0ZW1wbGF0ZUNhY2hlLmdldCgnbGF5b3V0LXNpZGViYXIuaHRtbCcpLFxyXG4gICAgICAgICAgICAgICAgbGluazogZnVuY3Rpb24gKHNjb3BlLCBlbGUsIGF0dCkge1xyXG4gICAgICAgICAgICAgICAgICAgIF8uZm9yRWFjaCh0b3BpY0l0ZW1Tb3VyY2UsIGZ1bmN0aW9uIChrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGsuaHJlZiA9ICRzdGF0ZS5ocmVmKCdjYXRlZ29yeScsIHtjYXRlZ29yeTogay51aVNyZWZ9KTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICBzY29wZS5sYXlvdXRTaWRlYmFySXRlbVNvdXJjZSA9IHRvcGljSXRlbVNvdXJjZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfTtcclxuICAgICAgICB9XSlcclxuICAgICAgICAuZGlyZWN0aXZlKCdsYXlvdXRDb250ZW50JywgWyckdGVtcGxhdGVDYWNoZScsIGZ1bmN0aW9uICgkdGVtcGxhdGVDYWNoZSkge1xyXG4gICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgcmVzdHJpY3Q6ICdFQScsXHJcbiAgICAgICAgICAgICAgICB0ZW1wbGF0ZTogJHRlbXBsYXRlQ2FjaGUuZ2V0KCdsYXlvdXQtY29udGVudC5odG1sJylcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICB9XSlcclxuICAgICAgICAuZGlyZWN0aXZlKCdsYXlvdXRTZWFyY2gnLCBbJyR0ZW1wbGF0ZUNhY2hlJywgZnVuY3Rpb24gKCR0ZW1wbGF0ZUNhY2hlKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICByZXN0cmljdDogJ0VBJyxcclxuICAgICAgICAgICAgICAgIHRlbXBsYXRlOiAkdGVtcGxhdGVDYWNoZS5nZXQoJ2xheW91dC1zZWFyY2guaHRtbCcpXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgfV0pO1xyXG5cclxufSkoYW5ndWxhcik7IiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgQW5keS5MdiBvbiAyMDE1LzEvMTQuXHJcbiAqL1xyXG5cclxuKGZ1bmN0aW9uIChhbmd1bGFyKSB7XHJcbiAgICAndXNlIHN0cmljdCc7XHJcblxyXG4gICAgYW5ndWxhci5tb2R1bGUoJ25nV2ViJykuZGlyZWN0aXZlKCd0b3BpY0NhdGVnb3J5JywgWyckdGVtcGxhdGVDYWNoZScsIGZ1bmN0aW9uICgkdGVtcGxhdGVDYWNoZSkge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIHJlc3RyaWN0OiAnRUEnLFxyXG4gICAgICAgICAgICBzY29wZToge1xyXG4gICAgICAgICAgICAgICAgaXRlbVNvdXJjZTogJz0nXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHRlbXBsYXRlOiAkdGVtcGxhdGVDYWNoZS5nZXQoJ3RvcGljLWNhdGVnb3J5Lmh0bWwnKSxcclxuICAgICAgICAgICAgbGluazogZnVuY3Rpb24gKHNjb3BlLCBlbGUsIGF0dCkge1xyXG5cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICB9XSk7XHJcblxyXG59KShhbmd1bGFyKTtcclxuIiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgQW5keS5MdiBvbiAyMDE0LzEyLzIzLlxyXG4gKi9cclxuXHJcbihmdW5jdGlvbiAoYW5ndWxhcikge1xyXG4gICAgJ3VzZSBzdHJpY3QnO1xyXG5cclxuICAgIGFuZ3VsYXIubW9kdWxlKCduZ1dlYicpLmRpcmVjdGl2ZSgndG9waWNJdGVtcycsIFsnJHRlbXBsYXRlQ2FjaGUnLCAndG9waWNJdGVtU291cmNlJywgJyRzdGF0ZScsXHJcbiAgICAgICAgZnVuY3Rpb24gKCR0ZW1wbGF0ZUNhY2hlLCB0b3BpY0l0ZW1Tb3VyY2UsICRzdGF0ZSkge1xyXG4gICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgcmVzdHJpY3Q6ICdFQScsXHJcbiAgICAgICAgICAgICAgICB0ZW1wbGF0ZTogJHRlbXBsYXRlQ2FjaGUuZ2V0KCd0b3BpYy1pdGVtcy5odG1sJyksXHJcbiAgICAgICAgICAgICAgICBsaW5rOiBmdW5jdGlvbiAoc2NvcGUsIGVsZSwgYXR0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgXy5mb3JFYWNoKHRvcGljSXRlbVNvdXJjZSwgZnVuY3Rpb24gKGspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgay5ocmVmID0gJHN0YXRlLmhyZWYoJ2NhdGVnb3J5Jywge2NhdGVnb3J5OiBrLnVpU3JlZn0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIHNjb3BlLml0ZW1Tb3VyY2UgPSB0b3BpY0l0ZW1Tb3VyY2U7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgfV0pO1xyXG5cclxufSkoYW5ndWxhcik7IiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgQW5keS5MdiBvbiAyMDE1LzIvMi5cclxuICovXHJcblxyXG4oZnVuY3Rpb24gKGFuZ3VsYXIpIHtcclxuICAgICd1c2Ugc3RyaWN0JztcclxuXHJcbiAgICBhbmd1bGFyLm1vZHVsZSgnbmdXZWInKS5jb250cm9sbGVyKCdlZGl0QXJ0aWNsZUNvbnRyb2xsZXInLCBbJyRzY29wZScsICckaHR0cCcsICd0b3BpY0l0ZW1Tb3VyY2UnLFxyXG4gICAgICAgIGZ1bmN0aW9uICgkc2NvcGUsICRodHRwLCB0b3BpY0l0ZW1Tb3VyY2UpIHtcclxuICAgICAgICAgICAgJHNjb3BlLmNhdGVnb3J5ID0gdG9waWNJdGVtU291cmNlO1xyXG4gICAgICAgICAgICAkc2NvcGUuY29udGVudCA9ICcnO1xyXG4gICAgICAgICAgICAkc2NvcGUudGl0bGUgPSAnJztcclxuXHJcbiAgICAgICAgICAgICRzY29wZS5zdWJtaXQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAkaHR0cCh7XHJcbiAgICAgICAgICAgICAgICAgICAgbWV0aG9kOiAncG9zdCcsXHJcbiAgICAgICAgICAgICAgICAgICAgdXJsOiAnL2FwaS9zYXZlQXJ0aWNsZScsXHJcbiAgICAgICAgICAgICAgICAgICAgZGF0YToge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXRlZ29yeTogJ2phdmFzY3JpcHQnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogJHNjb3BlLnRpdGxlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50OiAkc2NvcGUuY29udGVudFxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlcykge1xyXG5cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH1dKTtcclxuXHJcbn0pKGFuZ3VsYXIpOyIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IEFuZHkuTHYgb24gMjAxNC8xMS8xMy5cclxuICovXHJcblxyXG4oZnVuY3Rpb24gKGFuZ3VsYXIpIHtcclxuICAgICd1c2Ugc3RyaWN0JztcclxuXHJcbiAgICBhbmd1bGFyLm1vZHVsZSgnbmdXZWInKS5jb250cm9sbGVyKCdtYWluZnJhbWVDb250cm9sbGVyJywgWyckc2NvcGUnLCBmdW5jdGlvbiAoJHNjb3BlKSB7XHJcblxyXG4gICAgfV0pO1xyXG59KShhbmd1bGFyKTsiLCIvKipcclxuICogQ3JlYXRlZCBieSBBbmR5Lkx2IG9uIDIwMTUvMS84LlxyXG4gKi9cclxuXHJcbihmdW5jdGlvbiAoYW5ndWxhcikge1xyXG4gICAgJ3VzZSBzdHJpY3QnO1xyXG5cclxuICAgIGFuZ3VsYXIubW9kdWxlKCduZ1dlYicpLmNvbnRyb2xsZXIoJ3RvcGljQ2F0ZWdvcnlDb250cm9sbGVyJywgWyckc2NvcGUnLCAnJGh0dHAnLCAnJHN0YXRlJyxcclxuICAgICAgICBmdW5jdGlvbiAoJHNjb3BlLCAkaHR0cCwgJHN0YXRlKSB7XHJcbiAgICAgICAgICAgICRodHRwLmdldCgnL2FwaS90b3BpY3MvJyArICRzdGF0ZS5wYXJhbXMuY2F0ZWdvcnkpLnRoZW4oZnVuY3Rpb24gKHJlcykge1xyXG4gICAgICAgICAgICAgICAgaWYgKHJlcy5zdGF0dXMgPT09IDIwMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5pdGVtU291cmNlID0gcmVzLmRhdGE7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1dKTtcclxuXHJcbn0pKGFuZ3VsYXIpOyIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IEFuZHkuTHYgb24gMjAxNC8xMS8xMy5cclxuICovXHJcbihmdW5jdGlvbiAoYW5ndWxhcikge1xyXG4gICAgJ3VzZSBzdHJpY3QnO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogaW5kZXggd2lsbCB1c2UgdGhpcyBjb250cm9sbGVyXHJcbiAgICAgKi9cclxuICAgIGFuZ3VsYXIubW9kdWxlKCduZ1dlYicpLmNvbnRyb2xsZXIoJ3RvcGljQ29udHJvbGxlcicsIFsnJHNjb3BlJywgJyRodHRwJywgJ3RvcGljSXRlbVNvdXJjZScsXHJcbiAgICAgICAgZnVuY3Rpb24gKCRzY29wZSwgJGh0dHAsIHRvcGljSXRlbVNvdXJjZSkge1xyXG4gICAgICAgICAgICAkc2NvcGUuZGF0YSA9IHRvcGljSXRlbVNvdXJjZTtcclxuICAgICAgICAgICAgJGh0dHAuZ2V0KCcvYXBpL3RvcGljcy9ncm91cHRvcGljcycpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID09PSAyMDApIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgdCA9ICRzY29wZS5kYXRhO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBfLmZvckVhY2gocmVzcG9uc2UuZGF0YSwgZnVuY3Rpb24gKGspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHVwZGF0ZUl0ZW0gPSBfLmZpbmQoJHNjb3BlLmRhdGEsIGZ1bmN0aW9uIChpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gay50b3BpYyA9PT0gaS5faWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB1cGRhdGVJdGVtLm51bWJlciA9IGsuY291bnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1dKTtcclxuXHJcbn0pKGFuZ3VsYXIpOyJdLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==