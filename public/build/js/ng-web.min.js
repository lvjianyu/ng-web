!function(t){"use strict";var e=["ui.router","ui.bootstrap","platform","authentication","ngWeb","ngMessage","angular-loading-bar","textAngular"],n=t.module("app",e);n.config(["cfpLoadingBarProvider",function(t){t.includeSpinner=!1}]),n.config(["$provide",function(t){t.decorator("$templateCache",["$http","$delegate","$injector",function(t,e,n){return e.loadedTemplateUrl=function(e){t({url:e,method:"GET"}).then(function(t){n.get("$compile")(t.data)})},e}])}]),n.run(["$templateCache","$http","$compile",function(t){t.loadedTemplateUrl("/template/ng-template.html")}])}(angular);
!function(l){"use strict";l.module("ngWeb",[]).value("topicItemSource",[{topic:"Javascript",liStyle:"bg_lg span3",uiSref:"javascript",iStyle:"icon-leaf",spanStyle:"label label-success"},{topic:"Angularjs",liStyle:"bg_lb span2",uiSref:"angularjs",iStyle:"icon-twitter",spanStyle:"label label-success"},{topic:"NodeJS",liStyle:"bg_ly span2",uiSref:"nodejs",iStyle:"icon-beaker",spanStyle:"label label-success"},{topic:"C#",liStyle:"bg_lo span3",uiSref:"csharp",iStyle:"icon-lemon",spanStyle:"label label-success"},{topic:"MongoDB",liStyle:"bg_ls",uiSref:"mongodb",iStyle:"icon-cloud",spanStyle:"label label-success"},{topic:"SQL",liStyle:"bg_lo",uiSref:"sql",iStyle:"icon-th-large",spanStyle:"label label-success"}])}(angular);
!function(t){"use strict";var e=t.module("platform",[]);e.config(["$stateProvider","$urlRouterProvider","$locationProvider",function(t,e){e.otherwise("topic"),t.state("topic",{url:"/topic",templateUrl:"/templates/topic"}).state("article",{url:"/article/:id",templateUrl:"/templates/article"}).state("about",{url:"/about",templateUrl:"/templates/about"}).state("category",{url:"/topic/:category",templateUrl:"/templates/topic/topic-category"}).state("edit-article",{url:"/edit-article",templateUrl:"/templates/edit-article"}).state("update-article",{url:"/edit-article/:id",templateUrl:"/templates/edit-article"})}]),e.run(["$rootScope","$state","dialogService",function(){}])}(angular);
!function(n){"use strict";var t=n.module("authentication",[]);window.authentication=window.authentication||{tokenKey:"authentication.key.edu.online",authRequire:"",authSuccess:"",loginSuccess:"",loginFailed:""},t.provider("tokenAuth",function(){this.$get=["$injector","$q",function(){function n(){}var t;return window.localStorage&&(t=window.localStorage),{checkTokenAuth:n}}]}),t.factory("tokenAuthHttpInterceptor",["$rootScope","$q","tokenAuth",function(n,t,e){var o={request:function(n){return n},response:function(n){return n},requestError:function(n){return n},responseError:function(n){return n}};return o}]),t.config(function(){})}(angular);
!function(t){"use strict";t.module("platform").factory("commonService",[function(){function t(t){var e=new Date(t),n=e.getDate(),r="-";10>n&&(n="0"+n);var a=e.getMonth()+1;return 10>a&&(a="0"+a),e.getFullYear()+r+a+r+n}return{YYYYMMDD:t}}])}(angular);
!function(t){"use strict";t.module("platform").factory("dialogService",["$modal","$templateCache",function(e,a){return{show:function(r){var o={};t.copy(r,o),o.template=a.get(r.template);var n=e.open(o);return n.result}}}])}(angular);
!function(t){"use strict";t.module("ngWeb").directive("articleItem",["$templateCache","$state","commonService",function(t,e,i){return{restrict:"EA",scope:{item:"=",isAdmin:"@"},template:t.get("article-item.html"),link:function(t){t.item.href=e.href("article",{id:t.item._id}),t.item.formatUpdateAt=i.YYYYMMDD(t.item.updateAt),t.item.formatTransfer=t.item.transfer?"转载":"原创"},controller:["$scope",function(t){t.articleEdit=function(t){e.go("update-article",{id:t._id})}}]}}])}(angular);
!function(t){"use strict";t.module("ngWeb").directive("layoutHeader",["$templateCache","dialogService",function(t,e){return{restrict:"EA",scope:{},template:t.get("layout-header.html"),controller:function(t){t.login=function(){e.show({template:"login-template.html"})}}}}]).directive("layoutFooter",["$templateCache",function(t){return{restrict:"EA",template:t.get("layout-footer.html")}}]).directive("layoutSidebar",["$templateCache","$state","topicItemSource",function(t,e,r){return{restrict:"EA",template:t.get("layout-sidebar.html"),link:function(t){_.forEach(r,function(t){t.href=e.href("category",{category:t.uiSref})}),t.layoutSidebarItemSource=r}}}]).directive("layoutContent",["$templateCache",function(t){return{restrict:"EA",template:t.get("layout-content.html")}}]).directive("layoutSearch",["$templateCache",function(t){return{restrict:"EA",template:t.get("layout-search.html")}}])}(angular);
!function(t){"use strict";t.module("ngWeb").directive("topicCategory",["$templateCache",function(t){return{restrict:"EA",scope:{itemSource:"="},template:t.get("topic-category.html"),link:function(){}}}])}(angular);
!function(t){"use strict";t.module("ngWeb").directive("topicItems",["$templateCache","topicItemSource","$state",function(t,e,c){return{restrict:"EA",template:t.get("topic-items.html"),link:function(t){_.forEach(e,function(t){t.href=c.href("category",{category:t.uiSref})}),t.itemSource=e}}}])}(angular);
!function(t){"use strict";t.module("ngWeb").controller("articleController",["$scope","$http","$state",function(t,n,a){n.get("/api/article/"+a.params.id).then(function(t){200===t.status&&t.data&&$("#articleContent").append(t.data.content)})}])}(angular);
!function(t,e){"use strict";t.module("ngWeb").controller("editArticleController",["$scope","$http","topicItemSource","dialogService","$state",function(t,a,n,r,i){function o(){t.content="",t.title="",t.selectCategory=n[0],t.selectTransfer=t.transfer[0]}function c(t){return e.trim(t)}t.category=n,t.transfer=[{name:"原创",value:!1},{name:"转载",value:!0}],t.submit=function(){var e=c(t.selectCategory.uiSref),n=c(t.selectTransfer.value),i=c(t.title),l=c(t.content);i&&l&&a({method:"post",url:"/api/saveArticle",data:{_id:t._id,category:e,title:i,content:l,transfer:n}}).then(function(t){200===t.status&&t.data&&(o(),r.show({template:"save-ok.html"}))})},t.clear=function(){o()},i.params&&i.params.id?a.get("/api/article/"+i.params.id).then(function(e){200===e.status&&e.data&&(t._id=e.data._id,t.content=e.data.content,t.title=e.data.title,t.selectCategory=_.find(n,{uiSref:e.data.category}),t.selectTransfer=_.find(t.transfer,{value:e.data.transfer}))}):o()}])}(angular,validator);
!function(e){"use strict";e.module("ngWeb").controller("mainframeController",["$scope","$http",function(e,t){e.username="welcome",t.get("/api/auth/authUser").then(function(t){200===t.status&&t.data&&(e.isAdmin=t.data.isAdmin,e.username=t.data.username)})}])}(angular);
!function(t){"use strict";t.module("ngWeb").controller("topicCategoryController",["$scope","$http","$state",function(t,o,e){o.get("/api/topics/"+e.params.category).then(function(o){200===o.status&&(t.itemSource=o.data)})}])}(angular);
!function(t){"use strict";t.module("ngWeb").controller("topicController",["$scope","$http","topicItemSource",function(t,o,n){t.data=n,o.get("/api/topics/grouptopics").then(function(o){if(200===o.status){{t.data}_.forEach(o.data,function(o){var n=_.find(t.data,function(t){return o._id.toLowerCase()===t.topic.toLowerCase()});n&&(n.number=o.count)})}})}])}(angular);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5qcyIsIm5nLXdlYi5qcyIsInBsYXRmb3JtLmpzIiwiYXV0aGVudGljYXRpb24uanMiLCJjb21tb24tc2VydmljZS5qcyIsImRpYWxvZy1zZXJ2aWNlLmpzIiwiYXJ0aWNsZS1pdGVtLWRpcmVjdGl2ZS5qcyIsImxheW91dC1kaXJlY3RpdmUuanMiLCJ0b3BpYy1jYXRlZ29yeS1kaXJlY3RpdmUuanMiLCJ0b3BpYy1pdGVtLWRpcmVjdGl2ZS5qcyIsImFydGljbGUtY29udHJvbGxlci5qcyIsImVkaXQtYXJ0aWNsZS1jb250cm9sbGVyLmpzIiwibWFpbmZyYW1lLWNvbnRyb2xsZXIuanMiLCJ0b3BpYy1jYXRlZ29yeS1jb250cm9sbGVyLmpzIiwidG9waWMtY29udHJvbGxlci5qcyJdLCJuYW1lcyI6WyJhbmd1bGFyIiwiZGVwZW5kSW5qZWN0IiwiYXBwIiwibW9kdWxlIiwiY29uZmlnIiwiY2ZwTG9hZGluZ0JhclByb3ZpZGVyIiwiaW5jbHVkZVNwaW5uZXIiLCIkcHJvdmlkZSIsImRlY29yYXRvciIsIiRodHRwIiwiJGRlbGVnYXRlIiwiJGluamVjdG9yIiwibG9hZGVkVGVtcGxhdGVVcmwiLCJ1cmwiLCJtZXRob2QiLCJ0aGVuIiwiciIsImdldCIsImRhdGEiLCJydW4iLCIkdGVtcGxhdGVDYWNoZSIsInZhbHVlIiwidG9waWMiLCJsaVN0eWxlIiwidWlTcmVmIiwiaVN0eWxlIiwic3BhblN0eWxlIiwicGxhdGZvcm0iLCIkc3RhdGVQcm92aWRlciIsIiR1cmxSb3V0ZXJQcm92aWRlciIsIm90aGVyd2lzZSIsInN0YXRlIiwidGVtcGxhdGVVcmwiLCJhdXRoZW50aWNhdGlvbiIsIndpbmRvdyIsInRva2VuS2V5IiwiYXV0aFJlcXVpcmUiLCJhdXRoU3VjY2VzcyIsImxvZ2luU3VjY2VzcyIsImxvZ2luRmFpbGVkIiwicHJvdmlkZXIiLCJ0aGlzIiwiJGdldCIsImNoZWNrVG9rZW5BdXRoIiwic3RvcmFnZSIsImxvY2FsU3RvcmFnZSIsImZhY3RvcnkiLCIkcm9vdFNjb3BlIiwiJHEiLCJ0b2tlbkF1dGgiLCJpbnRlcmNlcHRvciIsInJlcXVlc3QiLCJyZXNwb25zZSIsInJlcXVlc3RFcnJvciIsInJlamVjdGlvbiIsInJlc3BvbnNlRXJyb3IiLCJZWVlZTU1ERCIsInN0ciIsImQiLCJEYXRlIiwiZGF0ZSIsImdldERhdGUiLCJzZXAiLCJtb250aCIsImdldE1vbnRoIiwiZ2V0RnVsbFllYXIiLCIkbW9kYWwiLCJzaG93Iiwib3B0aW9ucyIsImRlZmF1bHRPcHRpb25zIiwiY29weSIsInRlbXBsYXRlIiwibW9kYWxJbnN0YW5jZSIsIm9wZW4iLCJyZXN1bHQiLCJkaXJlY3RpdmUiLCIkc3RhdGUiLCJjb21tb25TZXJ2aWNlIiwicmVzdHJpY3QiLCJzY29wZSIsIml0ZW0iLCJpc0FkbWluIiwibGluayIsImhyZWYiLCJpZCIsIl9pZCIsImZvcm1hdFVwZGF0ZUF0IiwidXBkYXRlQXQiLCJmb3JtYXRUcmFuc2ZlciIsInRyYW5zZmVyIiwiY29udHJvbGxlciIsIiRzY29wZSIsImFydGljbGVFZGl0IiwiZ28iLCJkaWFsb2dTZXJ2aWNlIiwibG9naW4iLCJ0b3BpY0l0ZW1Tb3VyY2UiLCJfIiwiZm9yRWFjaCIsImsiLCJjYXRlZ29yeSIsImxheW91dFNpZGViYXJJdGVtU291cmNlIiwiaXRlbVNvdXJjZSIsInBhcmFtcyIsInJlcyIsInN0YXR1cyIsIiQiLCJhcHBlbmQiLCJjb250ZW50IiwidmFsaWRhdG9yIiwiaW5pdCIsInRpdGxlIiwic2VsZWN0Q2F0ZWdvcnkiLCJzZWxlY3RUcmFuc2ZlciIsInNhZmVQb3N0IiwidHJpbSIsIm5hbWUiLCJzdWJtaXQiLCJjbGVhciIsImZpbmQiLCJ1c2VybmFtZSIsInVwZGF0ZUl0ZW0iLCJpIiwidG9Mb3dlckNhc2UiLCJudW1iZXIiLCJjb3VudCJdLCJtYXBwaW5ncyI6IkNBSUEsU0FBV0EsR0FDUCxZQUVBLElBQUlDLElBRUEsWUFDQSxlQUNBLFdBQ0EsaUJBQ0EsUUFDQSxZQUNBLHNCQUNBLGVBSUFDLEVB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U0FBVXlGLEdBQzNDLE1BQWZBLEVBQUlDLFNBQ0pkLEVBQU9XLFdBQWFFLEVBQUl0RixZQUt6Q2xCO0NDYkgsU0FBV0EsR0FDUCxZQUtBQSxHQUFRRyxPQUFPLFNBQVN1RixXQUFXLG1CQUFvQixTQUFVLFFBQVMsa0JBQ3RFLFNBQVVDLEVBQVFsRixFQUFPdUYsR0FDckJMLEVBQU96RSxLQUFPOEUsRUFDZHZGLEVBQU1RLElBQUksMkJBQTJCRixLQUFLLFNBQVVxQyxHQUNoRCxHQUF3QixNQUFwQkEsRUFBU3FELE9BQWdCLENBQ3pCLENBQVFkLEVBQU96RSxLQUVmK0UsRUFBRUMsUUFBUTlDLEVBQVNsQyxLQUFNLFNBQVVpRixHQUMvQixHQUFJc0IsR0FBYXhCLEVBQUVzQixLQUFLNUIsRUFBT3pFLEtBQU0sU0FBVXdHLEdBQzNDLE1BQU92QixHQUFFZCxJQUFJc0MsZ0JBQWtCRCxFQUFFcEcsTUFBTXFHLGVBRXZDRixLQUNBQSxFQUFXRyxPQUFTekIsRUFBRTBCLGdCQU8vQzdIIiwiZmlsZSI6Im5nLXdlYi5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcclxuICogQ3JlYXRlZCBieSBBbmR5Lkx2IG9uIDIwMTQvMTEvMy5cclxuICovXHJcblxyXG4oZnVuY3Rpb24gKGFuZ3VsYXIpIHtcclxuICAgICd1c2Ugc3RyaWN0JztcclxuXHJcbiAgICB2YXIgZGVwZW5kSW5qZWN0ID0gW1xyXG4vLyAgICAgICAgJ25nQW5pbWF0ZScsXHJcbiAgICAgICAgJ3VpLnJvdXRlcicsXHJcbiAgICAgICAgJ3VpLmJvb3RzdHJhcCcsXHJcbiAgICAgICAgJ3BsYXRmb3JtJyxcclxuICAgICAgICAnYXV0aGVudGljYXRpb24nLFxyXG4gICAgICAgICduZ1dlYicsXHJcbiAgICAgICAgJ25nTWVzc2FnZScsXHJcbiAgICAgICAgJ2FuZ3VsYXItbG9hZGluZy1iYXInLFxyXG4gICAgICAgICd0ZXh0QW5ndWxhcidcclxuICAgIF07XHJcbiAgICAvL3dpbmRvdy5nbG9iZVBhdGg9ICdodHRwOi8vbG9jYWxob3N0OjMwMDAnO1xyXG5cclxuICAgIHZhciBhcHAgPSBhbmd1bGFyLm1vZHVsZSgnYXBwJywgZGVwZW5kSW5qZWN0KTtcclxuXHJcbiAgICBhcHAuY29uZmlnKFsnY2ZwTG9hZGluZ0JhclByb3ZpZGVyJywgZnVuY3Rpb24gKGNmcExvYWRpbmdCYXJQcm92aWRlcikge1xyXG4gICAgICAgIGNmcExvYWRpbmdCYXJQcm92aWRlci5pbmNsdWRlU3Bpbm5lciA9IGZhbHNlO1xyXG4gICAgfV0pO1xyXG5cclxuICAgIGFwcC5jb25maWcoWyckcHJvdmlkZScsIGZ1bmN0aW9uICgkcHJvdmlkZSkge1xyXG4gICAgICAgICRwcm92aWRlLmRlY29yYXRvcignJHRlbXBsYXRlQ2FjaGUnLCBbJyRodHRwJywgJyRkZWxlZ2F0ZScsICckaW5qZWN0b3InLCBmdW5jdGlvbiAoJGh0dHAsICRkZWxlZ2F0ZSwgJGluamVjdG9yKSB7XHJcbiAgICAgICAgICAgICRkZWxlZ2F0ZS5sb2FkZWRUZW1wbGF0ZVVybCA9IGZ1bmN0aW9uICh1cmwpIHtcclxuICAgICAgICAgICAgICAgICRodHRwKHtcclxuICAgICAgICAgICAgICAgICAgICB1cmw6IHVybCxcclxuICAgICAgICAgICAgICAgICAgICBtZXRob2Q6ICdHRVQnXHJcbiAgICAgICAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJGluamVjdG9yLmdldCgnJGNvbXBpbGUnKShyLmRhdGEpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIHJldHVybiAkZGVsZWdhdGU7XHJcbiAgICAgICAgfV0pO1xyXG4gICAgfV0pO1xyXG5cclxuICAgIGFwcC5ydW4oWyckdGVtcGxhdGVDYWNoZScsICckaHR0cCcsICckY29tcGlsZScsIGZ1bmN0aW9uICgkdGVtcGxhdGVDYWNoZSwgJGh0dHAsICRjb21waWxlKSB7XHJcbiAgICAgICAgJHRlbXBsYXRlQ2FjaGUubG9hZGVkVGVtcGxhdGVVcmwoJy90ZW1wbGF0ZS9uZy10ZW1wbGF0ZS5odG1sJyk7XHJcbiAgICB9XSk7XHJcblxyXG5cclxufSkoYW5ndWxhcik7XHJcblxyXG4vL2FuZ3VsYXIuYm9vdHN0cmFwKGRvY3VtZW50LCBbJ2FwcCddKTtcclxuIiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgQW5keS5MdiBvbiAyMDE0LzExLzEzLlxyXG4gKi9cclxuKGZ1bmN0aW9uIChhbmd1bGFyKSB7XHJcbiAgICAndXNlIHN0cmljdCc7XHJcblxyXG4gICAgYW5ndWxhci5tb2R1bGUoJ25nV2ViJywgW10pXHJcbiAgICAgICAgLnZhbHVlKCd0b3BpY0l0ZW1Tb3VyY2UnLCBbXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHRvcGljOiAnSmF2YXNjcmlwdCcsXHJcbiAgICAgICAgICAgICAgICBsaVN0eWxlOiAnYmdfbGcgc3BhbjMnLFxyXG4gICAgICAgICAgICAgICAgdWlTcmVmOiAnamF2YXNjcmlwdCcsXHJcbiAgICAgICAgICAgICAgICBpU3R5bGU6ICdpY29uLWxlYWYnLFxyXG4gICAgICAgICAgICAgICAgc3BhblN0eWxlOiAnbGFiZWwgbGFiZWwtc3VjY2VzcydcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgdG9waWM6ICdBbmd1bGFyanMnLFxyXG4gICAgICAgICAgICAgICAgbGlTdHlsZTogJ2JnX2xiIHNwYW4yJyxcclxuICAgICAgICAgICAgICAgIHVpU3JlZjogJ2FuZ3VsYXJqcycsXHJcbiAgICAgICAgICAgICAgICBpU3R5bGU6ICdpY29uLXR3aXR0ZXInLFxyXG4gICAgICAgICAgICAgICAgc3BhblN0eWxlOiAnbGFiZWwgbGFiZWwtc3VjY2VzcydcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgdG9waWM6ICdOb2RlSlMnLFxyXG4gICAgICAgICAgICAgICAgbGlTdHlsZTogJ2JnX2x5IHNwYW4yJyxcclxuICAgICAgICAgICAgICAgIHVpU3JlZjogJ25vZGVqcycsXHJcbiAgICAgICAgICAgICAgICBpU3R5bGU6ICdpY29uLWJlYWtlcicsXHJcbiAgICAgICAgICAgICAgICBzcGFuU3R5bGU6ICdsYWJlbCBsYWJlbC1zdWNjZXNzJ1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICB0b3BpYzogJ0MjJyxcclxuICAgICAgICAgICAgICAgIGxpU3R5bGU6ICdiZ19sbyBzcGFuMycsXHJcbiAgICAgICAgICAgICAgICB1aVNyZWY6ICdjc2hhcnAnLFxyXG4gICAgICAgICAgICAgICAgaVN0eWxlOiAnaWNvbi1sZW1vbicsXHJcbiAgICAgICAgICAgICAgICBzcGFuU3R5bGU6ICdsYWJlbCBsYWJlbC1zdWNjZXNzJ1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICB0b3BpYzogJ01vbmdvREInLFxyXG4gICAgICAgICAgICAgICAgbGlTdHlsZTogJ2JnX2xzJyxcclxuICAgICAgICAgICAgICAgIHVpU3JlZjogJ21vbmdvZGInLFxyXG4gICAgICAgICAgICAgICAgaVN0eWxlOiAnaWNvbi1jbG91ZCcsXHJcbiAgICAgICAgICAgICAgICBzcGFuU3R5bGU6ICdsYWJlbCBsYWJlbC1zdWNjZXNzJ1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICB0b3BpYzogJ1NRTCcsXHJcbiAgICAgICAgICAgICAgICBsaVN0eWxlOiAnYmdfbG8nLFxyXG4gICAgICAgICAgICAgICAgdWlTcmVmOiAnc3FsJyxcclxuICAgICAgICAgICAgICAgIGlTdHlsZTogJ2ljb24tdGgtbGFyZ2UnLFxyXG4gICAgICAgICAgICAgICAgc3BhblN0eWxlOiAnbGFiZWwgbGFiZWwtc3VjY2VzcydcclxuICAgICAgICAgICAgfV0pO1xyXG4gICAgICAgIC8vLnJ1bihbJyR0ZW1wbGF0ZUNhY2hlJywgZnVuY3Rpb24gKCR0ZW1wbGF0ZUNhY2hlKSB7XHJcbiAgICAgICAgLy9cclxuICAgICAgICAvLyAgICB2YXIgbGF5b3V0SGVhZGVySHRtbCA9XHJcbiAgICAgICAgLy8gICAgICAgICc8ZGl2IHN0eWxlPVwiaGVpZ2h0OiA4MXB4XCI+JyArXHJcbiAgICAgICAgLy8gICAgICAgICcgICA8ZGl2IGlkPVwidXNlci1uYXZcIiBjbGFzcz1cIm5hdmJhciBuYXZiYXItaW52ZXJzZVwiPicgK1xyXG4gICAgICAgIC8vICAgICAgICAnICAgICAgIDx1bCBjbGFzcz1cIm5hdlwiPicgK1xyXG4gICAgICAgIC8vICAgICAgICAnICAgICAgICAgICA8bGk+JyArXHJcbiAgICAgICAgLy8gICAgICAgICcgICAgICAgICAgICAgICA8YSBocmVmPicgK1xyXG4gICAgICAgIC8vICAgICAgICAnICAgICAgICAgICAgICAgICAgIDxpIGNsYXNzPVwiaWNvbiBpY29uLXVzZXJcIj48L2k+JyArXHJcbiAgICAgICAgLy8gICAgICAgICcgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJ0ZXh0XCIgZGF0YS1uZy1tb2RlbD1cInVzZXJuYW1lXCI+PC9zcGFuPicgK1xyXG4gICAgICAgIC8vICAgICAgICAnICAgICAgICAgICAgICAgPC9hPicgK1xyXG4gICAgICAgIC8vICAgICAgICAnICAgICAgICAgICA8L2xpPicgK1xyXG4gICAgICAgIC8vICAgICAgICAnICAgICAgICAgICA8bGk+JyArXHJcbiAgICAgICAgLy8gICAgICAgICcgICAgICAgICAgICAgICA8YSBocmVmIG5nLWNsaWNrPVwibG9naW4oKVwiPicgK1xyXG4gICAgICAgIC8vICAgICAgICAnICAgICAgICAgICAgICAgICAgIDxpIGNsYXNzPVwiaWNvbi1naXRodWJcIj48L2k+JyArXHJcbiAgICAgICAgLy8gICAgICAgICcgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJ0ZXh0XCI+TG9naW48L3NwYW4+JyArXHJcbiAgICAgICAgLy8gICAgICAgICcgICAgICAgICAgICAgICA8L2E+JyArXHJcbiAgICAgICAgLy8gICAgICAgICcgICAgICAgICAgICAgICA8aSBjbGFzcz1cImljb24tZ2l0aHViXCI+e3t1c2VybmFtZX19PC9pPicgK1xyXG4gICAgICAgIC8vICAgICAgICAnICAgICAgICAgICA8L2xpPicgK1xyXG4gICAgICAgIC8vICAgICAgICAnICAgICAgIDwvdWw+JyArXHJcbiAgICAgICAgLy8gICAgICAgICcgICA8L2Rpdj4nICtcclxuICAgICAgICAvLyAgICAgICAgJzwvZGl2Pic7XHJcbiAgICAgICAgLy9cclxuICAgICAgICAvLyAgICB2YXIgbGF5b3V0Rm9vdGVySHRtbCA9XHJcbiAgICAgICAgLy8gICAgICAgICc8ZGl2IGNsYXNzPVwicm93LWZsdWlkXCI+JyArXHJcbiAgICAgICAgLy8gICAgICAgICcgICA8ZGl2IGlkPVwiZm9vdGVyXCIgY2xhc3M9XCJzcGFuMTJcIj4gJyArXHJcbiAgICAgICAgLy8gICAgICAgICcgICAgICAgMjAxNC0yMDE1ICZjb3B5O1dlYiBkZXNpZ24gYnkgJyArXHJcbiAgICAgICAgLy8gICAgICAgICcgICAgICAgPGEgaHJlZj1cImh0dHBzOi8vZ2l0aHViLmNvbS9taWNyb2x2L1wiIHRhcmdldD1cIl9ibGFua1wiPlttaWNyb2x2XTwvYT4nICtcclxuICAgICAgICAvLyAgICAgICAgJyAgICAgICBmb3JrIG1lIG9uIGdpdGh1YjonICtcclxuICAgICAgICAvLyAgICAgICAgJyAgICAgICA8YSBocmVmPVwiaHR0cHM6Ly9naXRodWIuY29tL21pY3JvbHYvXCIgdGFyZ2V0PVwiX2JsYW5rXCI+W21pY3JvbHZdPC9hPicgK1xyXG4gICAgICAgIC8vICAgICAgICAnICAgPC9kaXY+JyArXHJcbiAgICAgICAgLy8gICAgICAgICc8L2Rpdj4nO1xyXG4gICAgICAgIC8vXHJcbiAgICAgICAgLy8gICAgdmFyIGxheW91dFNpZGViYXJIdG1sID1cclxuICAgICAgICAvLyAgICAgICAgJzxkaXYgaWQ9XCJzaWRlYmFyXCI+JyArXHJcbiAgICAgICAgLy8gICAgICAgICcgICA8YSBjbGFzcz1cInZpc2libGUtcGhvbmVcIiBocmVmIHVpLXNyZWY9XCJ0b3BpY1wiPicgK1xyXG4gICAgICAgIC8vICAgICAgICAnICAgICAgIDxpIGNsYXNzPVwiaWNvbiBpY29uLWhvbWVcIj48L2k+IERhc2hib2FyZCcgK1xyXG4gICAgICAgIC8vICAgICAgICAnICAgPC9hPicgK1xyXG4gICAgICAgIC8vICAgICAgICAnICAgPHVsPicgK1xyXG4gICAgICAgIC8vICAgICAgICAnICAgICAgPGxpIGRhdGEtbmctcmVwZWF0PVwiaXRlbSBpbiBsYXlvdXRTaWRlYmFySXRlbVNvdXJjZVwiPicgK1xyXG4gICAgICAgIC8vICAgICAgICAnICAgICAgICAgIDxhIGRhdGEtbmctaHJlZj1cInt7aXRlbS5ocmVmfX1cIj4nICtcclxuICAgICAgICAvLyAgICAgICAgJyAgICAgICAgICAgICAgPGkgY2xhc3M9XCJpY29uXCIgZGF0YS1uZy1jbGFzcz1cIml0ZW0uaVN0eWxlXCI+PC9pPicgK1xyXG4gICAgICAgIC8vICAgICAgICAnICAgICAgICAgICAgICA8c3Bhbj4ge3tpdGVtLnRvcGljfX08L3NwYW4+JyArXHJcbiAgICAgICAgLy8gICAgICAgICcgICAgICAgICAgPC9hPicgK1xyXG4gICAgICAgIC8vICAgICAgICAnICAgICAgPC9saT4nICtcclxuICAgICAgICAvLyAgICAgICAgJyAgIDwvdWw+JyArXHJcbiAgICAgICAgLy8gICAgICAgICc8L2Rpdj4nO1xyXG4gICAgICAgIC8vXHJcbiAgICAgICAgLy8gICAgdmFyIGxheW91dENvbnRlbnRIdG1sID1cclxuICAgICAgICAvLyAgICAgICAgJzxkaXYgaWQ9XCJjb250ZW50XCI+JyArXHJcbiAgICAgICAgLy8gICAgICAgICcgICA8ZGl2IGlkPVwiY29udGVudC1oZWFkZXJcIj4nICtcclxuICAgICAgICAvLyAgICAgICAgJyAgICAgICA8ZGl2IGlkPVwiYnJlYWRjcnVtYlwiPicgK1xyXG4gICAgICAgIC8vICAgICAgICAnICAgICAgICAgICA8YSB1aS1zcmVmPVwiaW5kZXhcIiB0aXRsZT1cIkdvIHRvIEhvbWVcIiBjbGFzcz1cInRpcC1ib3R0b21cIj4nICtcclxuICAgICAgICAvLyAgICAgICAgJyAgICAgICAgICAgPGkgY2xhc3M9XCJpY29uLWhvbWVcIj48L2k+SG9tZScgK1xyXG4gICAgICAgIC8vICAgICAgICAnICAgICAgICAgICA8L2E+JyArXHJcbiAgICAgICAgLy8gICAgICAgICcgICAgICAgPC9kaXY+JyArXHJcbiAgICAgICAgLy8gICAgICAgICcgICA8L2Rpdj4nICtcclxuICAgICAgICAvLyAgICAgICAgJyAgIDxkaXYgdWktdmlldz48L2Rpdj4nICtcclxuICAgICAgICAvLyAgICAgICAgJzwvZGl2Pic7XHJcbiAgICAgICAgLy9cclxuICAgICAgICAvLyAgICB2YXIgdG9waWNJdGVtSHRtbCA9XHJcbiAgICAgICAgLy8gICAgICAgICc8dWwgY2xhc3M9XCJxdWljay1hY3Rpb25zXCI+JyArXHJcbiAgICAgICAgLy8gICAgICAgICcgICA8bGkgZGF0YS1uZy1jbGFzcz1cIml0ZW0ubGlTdHlsZVwiIGRhdGEtbmctcmVwZWF0PVwiaXRlbSBpbiBpdGVtU291cmNlXCI+JyArXHJcbiAgICAgICAgLy8gICAgICAgICcgICAgICA8YSBkYXRhLW5nLWhyZWY9XCJ7e2l0ZW0uaHJlZn19XCI+JyArXHJcbiAgICAgICAgLy8gICAgICAgICcgICAgICAgICAgPGkgZGF0YS1uZy1jbGFzcz1cIml0ZW0uaVN0eWxlXCI+PC9pPicgK1xyXG4gICAgICAgIC8vICAgICAgICAnICAgICAgICAgIDxzcGFuIGRhdGEtbmctc2hvdz1cIml0ZW0ubnVtYmVyXCIgY2xhc3M9XCJsYWJlbCBsYWJlbC1pbXBvcnRhbnRcIj57e2l0ZW0ubnVtYmVyfX08L3NwYW4+JyArXHJcbiAgICAgICAgLy8gICAgICAgICcgICAgICAgICAgIHt7aXRlbS50b3BpY319JyArXHJcbiAgICAgICAgLy8gICAgICAgICcgICAgICA8L2E+JyArXHJcbiAgICAgICAgLy8gICAgICAgICcgICA8L2xpPicgK1xyXG4gICAgICAgIC8vICAgICAgICAnPC91bD4nO1xyXG4gICAgICAgIC8vXHJcbiAgICAgICAgLy8gICAgdmFyIGxheW91dFNlYXJjaEh0bWwgPVxyXG4gICAgICAgIC8vICAgICAgICAnPGRpdiBpZD1cInNlYXJjaFwiPicgK1xyXG4gICAgICAgIC8vICAgICAgICAnICAgPGEgaHJlZiBkYXRhLXVpLXNyZWY9XCJhYm91dFwiPicgK1xyXG4gICAgICAgIC8vICAgICAgICAnICAgICAgIDxzcGFuIGNsYXNzPVwidGV4dFwiPkFib3V0IE1lPC9zcGFuPicgK1xyXG4gICAgICAgIC8vICAgICAgICAnICAgPC9hPicgK1xyXG4gICAgICAgIC8vICAgICAgICAnICAgPGEgaHJlZiBkYXRhLW5nLXNob3c9XCJpc0FkbWluXCIgZGF0YS11aS1zcmVmPVwiZWRpdC1hcnRpY2xlXCI+JyArXHJcbiAgICAgICAgLy8gICAgICAgICcgICAgICAgPHNwYW4gY2xhc3M9XCJ0ZXh0XCI+UG9zdCBBcnRpY2xlPC9zcGFuPicgK1xyXG4gICAgICAgIC8vICAgICAgICAnICAgPC9hPicgK1xyXG4gICAgICAgIC8vICAgICAgICAnPC9kaXY+JztcclxuICAgICAgICAvL1xyXG4gICAgICAgIC8vICAgICR0ZW1wbGF0ZUNhY2hlLnB1dCgnbGF5b3V0LWhlYWRlci5odG1sJywgbGF5b3V0SGVhZGVySHRtbCk7XHJcbiAgICAgICAgLy8gICAgJHRlbXBsYXRlQ2FjaGUucHV0KCdsYXlvdXQtY29udGVudC5odG1sJywgbGF5b3V0Q29udGVudEh0bWwpO1xyXG4gICAgICAgIC8vICAgICR0ZW1wbGF0ZUNhY2hlLnB1dCgnbGF5b3V0LWZvb3Rlci5odG1sJywgbGF5b3V0Rm9vdGVySHRtbCk7XHJcbiAgICAgICAgLy8gICAgJHRlbXBsYXRlQ2FjaGUucHV0KCdsYXlvdXQtc2lkZWJhci5odG1sJywgbGF5b3V0U2lkZWJhckh0bWwpO1xyXG4gICAgICAgIC8vICAgICR0ZW1wbGF0ZUNhY2hlLnB1dCgnbGF5b3V0LXNlYXJjaC5odG1sJywgbGF5b3V0U2VhcmNoSHRtbCk7XHJcbiAgICAgICAgLy8gICAgJHRlbXBsYXRlQ2FjaGUucHV0KCd0b3BpYy1pdGVtcy5odG1sJywgdG9waWNJdGVtSHRtbCk7XHJcbiAgICAgICAgLy9cclxuICAgICAgICAvL31dKTtcclxuXHJcbn0pKGFuZ3VsYXIpOyIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IEFuZHkuTHYgb24gMjAxNC8xMS8xMC5cclxuICovXHJcblxyXG4oZnVuY3Rpb24gKGFuZ3VsYXIpIHtcclxuICAgICd1c2Ugc3RyaWN0JztcclxuXHJcblxyXG4gICAgdmFyIHBsYXRmb3JtID0gYW5ndWxhci5tb2R1bGUoJ3BsYXRmb3JtJywgW10pO1xyXG5cclxuICAgIHBsYXRmb3JtLmNvbmZpZyhbJyRzdGF0ZVByb3ZpZGVyJywgJyR1cmxSb3V0ZXJQcm92aWRlcicsICckbG9jYXRpb25Qcm92aWRlcicsXHJcbiAgICAgICAgZnVuY3Rpb24gKCRzdGF0ZVByb3ZpZGVyLCAkdXJsUm91dGVyUHJvdmlkZXIsICRsb2NhdGlvblByb3ZpZGVyKSB7XHJcbiAgICAgICAgICAgIC8vJGxvY2F0aW9uUHJvdmlkZXIuaHRtbDVNb2RlKHRydWUpO1xyXG4gICAgICAgICAgICAkdXJsUm91dGVyUHJvdmlkZXIub3RoZXJ3aXNlKCd0b3BpYycpO1xyXG5cclxuICAgICAgICAgICAgJHN0YXRlUHJvdmlkZXJcclxuICAgICAgICAgICAgICAgIC5zdGF0ZSgndG9waWMnLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgdXJsOiAnL3RvcGljJywgdGVtcGxhdGVVcmw6ICcvdGVtcGxhdGVzL3RvcGljJ1xyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIC5zdGF0ZSgnYXJ0aWNsZScsIHtcclxuICAgICAgICAgICAgICAgICAgICB1cmw6ICcvYXJ0aWNsZS86aWQnLCB0ZW1wbGF0ZVVybDogJy90ZW1wbGF0ZXMvYXJ0aWNsZSdcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAuc3RhdGUoJ2Fib3V0Jywge1xyXG4gICAgICAgICAgICAgICAgICAgIHVybDogJy9hYm91dCcsIHRlbXBsYXRlVXJsOiAnL3RlbXBsYXRlcy9hYm91dCdcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAuc3RhdGUoJ2NhdGVnb3J5Jywge1xyXG4gICAgICAgICAgICAgICAgICAgIHVybDogJy90b3BpYy86Y2F0ZWdvcnknLCB0ZW1wbGF0ZVVybDogJy90ZW1wbGF0ZXMvdG9waWMvdG9waWMtY2F0ZWdvcnknXHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgLnN0YXRlKCdlZGl0LWFydGljbGUnLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgdXJsOiAnL2VkaXQtYXJ0aWNsZScsIHRlbXBsYXRlVXJsOiAnL3RlbXBsYXRlcy9lZGl0LWFydGljbGUnXHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgLnN0YXRlKCd1cGRhdGUtYXJ0aWNsZScsIHtcclxuICAgICAgICAgICAgICAgICAgICB1cmw6ICcvZWRpdC1hcnRpY2xlLzppZCcsIHRlbXBsYXRlVXJsOiAnL3RlbXBsYXRlcy9lZGl0LWFydGljbGUnXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICB9XSk7XHJcblxyXG4gICAgcGxhdGZvcm0ucnVuKFsnJHJvb3RTY29wZScsICckc3RhdGUnLCAnZGlhbG9nU2VydmljZScsIGZ1bmN0aW9uICgkcm9vdFNjb3BlLCAkc3RhdGUsIGRpYWxvZ1NlcnZpY2UpIHtcclxuICAgICAgICAvLyRyb290U2NvcGUuJG9uKCckcm91dGVDaGFuZ2VTdGFydCcsIGZ1bmN0aW9uIChldnQsIG5leHQsIGN1cnJlbnQpIHtcclxuICAgICAgICAvLyAgICBkaWFsb2dTZXJ2aWNlLnNob3coKTtcclxuICAgICAgICAvL1xyXG4gICAgICAgIC8vICAgIGNvbnNvbGUubG9nKGN1cnJlbnQpO1xyXG4gICAgICAgIC8vICAgIGNvbnNvbGUubG9nKG5leHQpO1xyXG4gICAgICAgIC8vfSk7XHJcbiAgICAgICAgLy8kcm9vdFNjb3BlLiRvbignd2luZG93LmF1dGhlbnRpY2F0aW9uLmF1dGhSZXF1aXJlJywgZnVuY3Rpb24gKGV2dCwgbmV4dCwgY3VycmVudCkge1xyXG4gICAgICAgIC8vICAgICRzdGF0ZS5nbygnbG9naW4nKTtcclxuICAgICAgICAvL30pO1xyXG5cclxuICAgIH1dKTtcclxuXHJcbn0pKGFuZ3VsYXIpO1xyXG5cclxuIiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgQW5keS5MdiBvbiAyMDE0LzExLzExLlxyXG4gKi9cclxuXHJcbihmdW5jdGlvbiAoYW5ndWxhcikge1xyXG4gICAgJ3VzZSBzdHJpY3QnO1xyXG5cclxuICAgIHZhciBhdXRoZW50aWNhdGlvbiA9IGFuZ3VsYXIubW9kdWxlKCdhdXRoZW50aWNhdGlvbicsIFtdKTtcclxuXHJcbiAgICB3aW5kb3cuYXV0aGVudGljYXRpb24gPSB3aW5kb3cuYXV0aGVudGljYXRpb24gfHwge1xyXG4gICAgICAgIHRva2VuS2V5OiAnYXV0aGVudGljYXRpb24ua2V5LmVkdS5vbmxpbmUnLFxyXG4gICAgICAgIGF1dGhSZXF1aXJlOiAnJyxcclxuICAgICAgICBhdXRoU3VjY2VzczogJycsXHJcbiAgICAgICAgbG9naW5TdWNjZXNzOiAnJyxcclxuICAgICAgICBsb2dpbkZhaWxlZDogJydcclxuICAgIH07XHJcblxyXG4gICAgYXV0aGVudGljYXRpb24ucHJvdmlkZXIoJ3Rva2VuQXV0aCcsIGZ1bmN0aW9uICgpIHtcclxuXHJcbiAgICAgICAgdGhpcy4kZ2V0ID0gWyckaW5qZWN0b3InLCAnJHEnLCBmdW5jdGlvbiAoJGluamVjdG9yLCAkcSkge1xyXG4gICAgICAgICAgICB2YXIgc3RvcmFnZTtcclxuICAgICAgICAgICAgaWYgKHdpbmRvdy5sb2NhbFN0b3JhZ2UpIHtcclxuICAgICAgICAgICAgICAgIHN0b3JhZ2UgPSB3aW5kb3cubG9jYWxTdG9yYWdlO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBmdW5jdGlvbiBsb2dpbihuYW1lLCBwYXNzd29yZCkge1xyXG5cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgZnVuY3Rpb24gY2hlY2tUb2tlbkF1dGgoKSB7XHJcblxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBmdW5jdGlvbiBnZXRUb2tlbkF1dGgoKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgdG9rZW5LZXkgPSBzdG9yYWdlLmdldEl0ZW0od2luZG93LmF1dGhlbnRpY2F0aW9uLnRva2VuS2V5KTtcclxuICAgICAgICAgICAgICAgIHZhciBqc29uID0gSlNPTi5wYXJzZSh0b2tlbktleSk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4ganNvbjtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgcmV0dXJuIHtjaGVja1Rva2VuQXV0aDogY2hlY2tUb2tlbkF1dGh9O1xyXG4gICAgICAgIH1dO1xyXG4gICAgfSk7XHJcblxyXG4gICAgYXV0aGVudGljYXRpb24uZmFjdG9yeSgndG9rZW5BdXRoSHR0cEludGVyY2VwdG9yJywgWyckcm9vdFNjb3BlJywgJyRxJywgJ3Rva2VuQXV0aCcsIGZ1bmN0aW9uICgkcm9vdFNjb3BlLCAkcSwgdG9rZW5BdXRoKSB7XHJcbiAgICAgICAgZnVuY3Rpb24gY2hlY2tUb2tlbkF1dGgoKSB7XHJcbiAgICAgICAgICAgIGlmICh0b2tlbkF1dGguY2hlY2tUb2tlbkF1dGgoKSkge1xyXG4gICAgICAgICAgICAgICAgJHJvb3RTY29wZS4kYnJvYWRjYXN0KHdpbmRvdy5hdXRoZW50aWNhdGlvbi5hdXRoU3VjY2Vzcyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAkcm9vdFNjb3BlLiRicm9hZGNhc3Qod2luZG93LmF1dGhlbnRpY2F0aW9uLmF1dGhSZXF1aXJlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdmFyIGludGVyY2VwdG9yID0ge1xyXG4gICAgICAgICAgICAncmVxdWVzdCc6IGZ1bmN0aW9uIChjb25maWcpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBjb25maWc7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICdyZXNwb25zZSc6IGZ1bmN0aW9uIChyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAncmVxdWVzdEVycm9yJzogZnVuY3Rpb24gKHJlamVjdGlvbikge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlamVjdGlvbjtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgJ3Jlc3BvbnNlRXJyb3InOiBmdW5jdGlvbiAocmVqZWN0aW9uKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVqZWN0aW9uO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgICByZXR1cm4gaW50ZXJjZXB0b3I7XHJcbiAgICB9XSk7XHJcblxyXG4gICAgYXV0aGVudGljYXRpb24uY29uZmlnKGZ1bmN0aW9uICgkaHR0cFByb3ZpZGVyKSB7XHJcbiAgICAgICAgLy8kaHR0cFByb3ZpZGVyLmludGVyY2VwdG9ycy5wdXNoKCd0b2tlbkF1dGhIdHRwSW50ZXJjZXB0b3InKTtcclxuICAgIH0pO1xyXG5cclxufSkoYW5ndWxhcik7XHJcblxyXG4iLCIvKipcclxuICogQ3JlYXRlZCBieSBBbmR5Lkx2IG9uIDIwMTUvMi8xNS5cclxuICovXHJcblxyXG4oZnVuY3Rpb24gKGFuZ3VsYXIpIHtcclxuICAgICd1c2Ugc3RyaWN0JztcclxuXHJcbiAgICBhbmd1bGFyLm1vZHVsZSgncGxhdGZvcm0nKS5mYWN0b3J5KCdjb21tb25TZXJ2aWNlJywgW2Z1bmN0aW9uICgpIHtcclxuXHJcbiAgICAgICAgZnVuY3Rpb24gWVlZWU1NREQoc3RyKSB7XHJcblxyXG4gICAgICAgICAgICB2YXIgZCA9IG5ldyBEYXRlKHN0ciksXHJcbiAgICAgICAgICAgICAgICBkYXRlID0gZC5nZXREYXRlKCksXHJcbiAgICAgICAgICAgICAgICBzZXAgPSAnLSc7XHJcbiAgICAgICAgICAgIGlmIChkYXRlIDwgMTApIHtcclxuICAgICAgICAgICAgICAgIGRhdGUgPSAnMCcgKyBkYXRlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHZhciBtb250aCA9IGQuZ2V0TW9udGgoKSArIDE7XHJcbiAgICAgICAgICAgIGlmIChtb250aCA8IDEwKSB7XHJcbiAgICAgICAgICAgICAgICBtb250aCA9ICcwJyArIG1vbnRoO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBkLmdldEZ1bGxZZWFyKCkgKyBzZXAgKyBtb250aCArIHNlcCArIGRhdGU7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICBZWVlZTU1ERDogWVlZWU1NRERcclxuICAgICAgICB9O1xyXG4gICAgfV0pO1xyXG59KShhbmd1bGFyKTtcclxuIiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgQW5keS5MdiBvbiAyMDE0LzExLzEyLlxyXG4gKi9cclxuXHJcbihmdW5jdGlvbiAoYW5ndWxhcikge1xyXG4gICAgJ3VzZSBzdHJpY3QnO1xyXG5cclxuICAgIGFuZ3VsYXIubW9kdWxlKCdwbGF0Zm9ybScpLmZhY3RvcnkoJ2RpYWxvZ1NlcnZpY2UnLCBbJyRtb2RhbCcsICckdGVtcGxhdGVDYWNoZScsIGZ1bmN0aW9uICgkbW9kYWwsICR0ZW1wbGF0ZUNhY2hlKSB7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgc2hvdzogZnVuY3Rpb24gKG9wdGlvbnMpIHtcclxuICAgICAgICAgICAgICAgIHZhciBkZWZhdWx0T3B0aW9ucyA9IHt9O1xyXG4gICAgICAgICAgICAgICAgYW5ndWxhci5jb3B5KG9wdGlvbnMsIGRlZmF1bHRPcHRpb25zKTtcclxuICAgICAgICAgICAgICAgIGRlZmF1bHRPcHRpb25zLnRlbXBsYXRlID0gJHRlbXBsYXRlQ2FjaGUuZ2V0KG9wdGlvbnMudGVtcGxhdGUpO1xyXG4gICAgICAgICAgICAgICAgdmFyIG1vZGFsSW5zdGFuY2UgPSAkbW9kYWwub3BlbihkZWZhdWx0T3B0aW9ucyk7XHJcblxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG1vZGFsSW5zdGFuY2UucmVzdWx0O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgIH1dKTtcclxuICAgIC8vLmNvbnRyb2xsZXIoJ2RpYWxvZ0NvbnRyb2xsZXInLCBbJyRzY29wZScsICckbW9kYWxJbnN0YW5jZScsIGZ1bmN0aW9uICgkc2NvcGUsICRtb2RhbEluc3RhbmNlKSB7XHJcbiAgICAvL1x0JHNjb3BlLm9rID0gZnVuY3Rpb24gKCkge1xyXG4gICAgLy9cdFx0JG1vZGFsSW5zdGFuY2UuY2xvc2Uoe3R5cGU6IHRydWUsIGRhdGE6ICRzY29wZS5kYXRhfSk7XHJcbiAgICAvL1x0fTtcclxuICAgIC8vXHQkc2NvcGUuY2FuY2VsID0gZnVuY3Rpb24gKCkge1xyXG4gICAgLy9cdFx0JG1vZGFsSW5zdGFuY2UuZGlzbWlzcyh7dHlwZTogZmFsc2V9KTtcclxuICAgIC8vXHR9O1xyXG4gICAgLy99XSk7XHJcbn0pKGFuZ3VsYXIpO1xyXG4iLCIvKipcclxuICogQ3JlYXRlZCBieSBBbmR5Lkx2IG9uIDIwMTUvMS8xNC5cclxuICovXHJcblxyXG4oZnVuY3Rpb24gKGFuZ3VsYXIpIHtcclxuICAgICd1c2Ugc3RyaWN0JztcclxuXHJcbiAgICBhbmd1bGFyLm1vZHVsZSgnbmdXZWInKS5kaXJlY3RpdmUoJ2FydGljbGVJdGVtJywgWyckdGVtcGxhdGVDYWNoZScsICckc3RhdGUnLCAnY29tbW9uU2VydmljZScsXHJcbiAgICAgICAgZnVuY3Rpb24gKCR0ZW1wbGF0ZUNhY2hlLCAkc3RhdGUsIGNvbW1vblNlcnZpY2UpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgIHJlc3RyaWN0OiAnRUEnLFxyXG4gICAgICAgICAgICAgICAgc2NvcGU6IHtcclxuICAgICAgICAgICAgICAgICAgICBpdGVtOiAnPScsXHJcbiAgICAgICAgICAgICAgICAgICAgaXNBZG1pbjogJ0AnXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgdGVtcGxhdGU6ICR0ZW1wbGF0ZUNhY2hlLmdldCgnYXJ0aWNsZS1pdGVtLmh0bWwnKSxcclxuICAgICAgICAgICAgICAgIGxpbms6IGZ1bmN0aW9uIChzY29wZSwgZWxlLCBhdHQpIHtcclxuICAgICAgICAgICAgICAgICAgICBzY29wZS5pdGVtLmhyZWYgPSAkc3RhdGUuaHJlZignYXJ0aWNsZScsIHtpZDogc2NvcGUuaXRlbS5faWR9KTtcclxuICAgICAgICAgICAgICAgICAgICBzY29wZS5pdGVtLmZvcm1hdFVwZGF0ZUF0ID0gY29tbW9uU2VydmljZS5ZWVlZTU1ERChzY29wZS5pdGVtLnVwZGF0ZUF0KTtcclxuICAgICAgICAgICAgICAgICAgICBzY29wZS5pdGVtLmZvcm1hdFRyYW5zZmVyID0gc2NvcGUuaXRlbS50cmFuc2ZlciA/ICfovazovb0nIDogJ+WOn+WImyc7XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgY29udHJvbGxlcjogWyckc2NvcGUnLCBmdW5jdGlvbiAoJHNjb3BlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFydGljbGVFZGl0ID0gZnVuY3Rpb24gKGl0ZW0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHN0YXRlLmdvKCd1cGRhdGUtYXJ0aWNsZScsIHtpZDogaXRlbS5faWR9KTtcclxuICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgfV1cclxuICAgICAgICAgICAgfTtcclxuICAgICAgICB9XSk7XHJcblxyXG59KShhbmd1bGFyKTtcclxuIiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgQW5keS5MdiBvbiAyMDE0LzEyLzI0LlxyXG4gKi9cclxuXHJcbihmdW5jdGlvbiAoYW5ndWxhcikge1xyXG4gICAgJ3VzZSBzdHJpY3QnO1xyXG5cclxuICAgIGFuZ3VsYXIubW9kdWxlKCduZ1dlYicpXHJcbiAgICAgICAgLmRpcmVjdGl2ZSgnbGF5b3V0SGVhZGVyJywgWyckdGVtcGxhdGVDYWNoZScsICdkaWFsb2dTZXJ2aWNlJywgZnVuY3Rpb24gKCR0ZW1wbGF0ZUNhY2hlLCBkaWFsb2dTZXJ2aWNlKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICByZXN0cmljdDogJ0VBJyxcclxuICAgICAgICAgICAgICAgIHNjb3BlOiB7fSxcclxuICAgICAgICAgICAgICAgIHRlbXBsYXRlOiAkdGVtcGxhdGVDYWNoZS5nZXQoJ2xheW91dC1oZWFkZXIuaHRtbCcpLFxyXG4gICAgICAgICAgICAgICAgY29udHJvbGxlcjogZnVuY3Rpb24gKCRzY29wZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5sb2dpbiA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGlhbG9nU2VydmljZS5zaG93KHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlOiAnbG9naW4tdGVtcGxhdGUuaHRtbCdcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfTtcclxuICAgICAgICB9XSlcclxuICAgICAgICAuZGlyZWN0aXZlKCdsYXlvdXRGb290ZXInLCBbJyR0ZW1wbGF0ZUNhY2hlJywgZnVuY3Rpb24gKCR0ZW1wbGF0ZUNhY2hlKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICByZXN0cmljdDogJ0VBJyxcclxuICAgICAgICAgICAgICAgIHRlbXBsYXRlOiAkdGVtcGxhdGVDYWNoZS5nZXQoJ2xheW91dC1mb290ZXIuaHRtbCcpXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgfV0pXHJcbiAgICAgICAgLmRpcmVjdGl2ZSgnbGF5b3V0U2lkZWJhcicsIFsnJHRlbXBsYXRlQ2FjaGUnLCAnJHN0YXRlJywgJ3RvcGljSXRlbVNvdXJjZScsIGZ1bmN0aW9uICgkdGVtcGxhdGVDYWNoZSwgJHN0YXRlLCB0b3BpY0l0ZW1Tb3VyY2UpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgIHJlc3RyaWN0OiAnRUEnLFxyXG4gICAgICAgICAgICAgICAgdGVtcGxhdGU6ICR0ZW1wbGF0ZUNhY2hlLmdldCgnbGF5b3V0LXNpZGViYXIuaHRtbCcpLFxyXG4gICAgICAgICAgICAgICAgbGluazogZnVuY3Rpb24gKHNjb3BlLCBlbGUsIGF0dCkge1xyXG4gICAgICAgICAgICAgICAgICAgIF8uZm9yRWFjaCh0b3BpY0l0ZW1Tb3VyY2UsIGZ1bmN0aW9uIChrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGsuaHJlZiA9ICRzdGF0ZS5ocmVmKCdjYXRlZ29yeScsIHtjYXRlZ29yeTogay51aVNyZWZ9KTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICBzY29wZS5sYXlvdXRTaWRlYmFySXRlbVNvdXJjZSA9IHRvcGljSXRlbVNvdXJjZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfTtcclxuICAgICAgICB9XSlcclxuICAgICAgICAuZGlyZWN0aXZlKCdsYXlvdXRDb250ZW50JywgWyckdGVtcGxhdGVDYWNoZScsIGZ1bmN0aW9uICgkdGVtcGxhdGVDYWNoZSkge1xyXG4gICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgcmVzdHJpY3Q6ICdFQScsXHJcbiAgICAgICAgICAgICAgICB0ZW1wbGF0ZTogJHRlbXBsYXRlQ2FjaGUuZ2V0KCdsYXlvdXQtY29udGVudC5odG1sJylcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICB9XSlcclxuICAgICAgICAuZGlyZWN0aXZlKCdsYXlvdXRTZWFyY2gnLCBbJyR0ZW1wbGF0ZUNhY2hlJywgZnVuY3Rpb24gKCR0ZW1wbGF0ZUNhY2hlKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICByZXN0cmljdDogJ0VBJyxcclxuICAgICAgICAgICAgICAgIHRlbXBsYXRlOiAkdGVtcGxhdGVDYWNoZS5nZXQoJ2xheW91dC1zZWFyY2guaHRtbCcpXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgfV0pO1xyXG5cclxufSkoYW5ndWxhcik7IiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgQW5keS5MdiBvbiAyMDE1LzEvMTQuXHJcbiAqL1xyXG5cclxuKGZ1bmN0aW9uIChhbmd1bGFyKSB7XHJcbiAgICAndXNlIHN0cmljdCc7XHJcblxyXG4gICAgYW5ndWxhci5tb2R1bGUoJ25nV2ViJykuZGlyZWN0aXZlKCd0b3BpY0NhdGVnb3J5JywgWyckdGVtcGxhdGVDYWNoZScsIGZ1bmN0aW9uICgkdGVtcGxhdGVDYWNoZSkge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIHJlc3RyaWN0OiAnRUEnLFxyXG4gICAgICAgICAgICBzY29wZToge1xyXG4gICAgICAgICAgICAgICAgaXRlbVNvdXJjZTogJz0nXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHRlbXBsYXRlOiAkdGVtcGxhdGVDYWNoZS5nZXQoJ3RvcGljLWNhdGVnb3J5Lmh0bWwnKSxcclxuICAgICAgICAgICAgbGluazogZnVuY3Rpb24gKHNjb3BlLCBlbGUsIGF0dCkge1xyXG5cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICB9XSk7XHJcblxyXG59KShhbmd1bGFyKTtcclxuIiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgQW5keS5MdiBvbiAyMDE0LzEyLzIzLlxyXG4gKi9cclxuXHJcbihmdW5jdGlvbiAoYW5ndWxhcikge1xyXG4gICAgJ3VzZSBzdHJpY3QnO1xyXG5cclxuICAgIGFuZ3VsYXIubW9kdWxlKCduZ1dlYicpLmRpcmVjdGl2ZSgndG9waWNJdGVtcycsIFsnJHRlbXBsYXRlQ2FjaGUnLCAndG9waWNJdGVtU291cmNlJywgJyRzdGF0ZScsXHJcbiAgICAgICAgZnVuY3Rpb24gKCR0ZW1wbGF0ZUNhY2hlLCB0b3BpY0l0ZW1Tb3VyY2UsICRzdGF0ZSkge1xyXG4gICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgcmVzdHJpY3Q6ICdFQScsXHJcbiAgICAgICAgICAgICAgICB0ZW1wbGF0ZTogJHRlbXBsYXRlQ2FjaGUuZ2V0KCd0b3BpYy1pdGVtcy5odG1sJyksXHJcbiAgICAgICAgICAgICAgICBsaW5rOiBmdW5jdGlvbiAoc2NvcGUsIGVsZSwgYXR0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgXy5mb3JFYWNoKHRvcGljSXRlbVNvdXJjZSwgZnVuY3Rpb24gKGspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgay5ocmVmID0gJHN0YXRlLmhyZWYoJ2NhdGVnb3J5Jywge2NhdGVnb3J5OiBrLnVpU3JlZn0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIHNjb3BlLml0ZW1Tb3VyY2UgPSB0b3BpY0l0ZW1Tb3VyY2U7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgfV0pO1xyXG5cclxufSkoYW5ndWxhcik7IiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgQW5keS5MdiBvbiAyMDE1LzIvMy5cclxuICovXHJcblxyXG4oZnVuY3Rpb24gKGFuZ3VsYXIpIHtcclxuICAgICd1c2Ugc3RyaWN0JztcclxuXHJcbiAgICBhbmd1bGFyLm1vZHVsZSgnbmdXZWInKS5jb250cm9sbGVyKCdhcnRpY2xlQ29udHJvbGxlcicsIFsnJHNjb3BlJywgJyRodHRwJywgJyRzdGF0ZScsXHJcbiAgICAgICAgZnVuY3Rpb24gKCRzY29wZSwgJGh0dHAsICRzdGF0ZSkge1xyXG5cclxuICAgICAgICAgICAgJGh0dHAuZ2V0KCcvYXBpL2FydGljbGUvJyArICRzdGF0ZS5wYXJhbXMuaWQpLnRoZW4oZnVuY3Rpb24gKHJlcykge1xyXG4gICAgICAgICAgICAgICAgaWYgKHJlcy5zdGF0dXMgPT09IDIwMCAmJiByZXMuZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgICAgICQoJyNhcnRpY2xlQ29udGVudCcpLmFwcGVuZChyZXMuZGF0YS5jb250ZW50KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfV0pO1xyXG5cclxufSkoYW5ndWxhcik7IiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgQW5keS5MdiBvbiAyMDE1LzIvMi5cclxuICovXHJcblxyXG4oZnVuY3Rpb24gKGFuZ3VsYXIsIHZhbGlkYXRvcikge1xyXG4gICAgJ3VzZSBzdHJpY3QnO1xyXG5cclxuICAgIC8vSlNIaW50IFcxMTdcclxuICAgIGFuZ3VsYXIubW9kdWxlKCduZ1dlYicpLmNvbnRyb2xsZXIoJ2VkaXRBcnRpY2xlQ29udHJvbGxlcicsIFsnJHNjb3BlJywgJyRodHRwJywgJ3RvcGljSXRlbVNvdXJjZScsICdkaWFsb2dTZXJ2aWNlJywgJyRzdGF0ZScsXHJcbiAgICAgICAgZnVuY3Rpb24gKCRzY29wZSwgJGh0dHAsIHRvcGljSXRlbVNvdXJjZSwgZGlhbG9nU2VydmljZSwgJHN0YXRlKSB7XHJcblxyXG4gICAgICAgICAgICAkc2NvcGUuY2F0ZWdvcnkgPSB0b3BpY0l0ZW1Tb3VyY2U7XHJcbiAgICAgICAgICAgICRzY29wZS50cmFuc2ZlciA9IFt7bmFtZTogJ+WOn+WImycsIHZhbHVlOiBmYWxzZX0sIHtuYW1lOiAn6L2s6L29JywgdmFsdWU6IHRydWV9XTtcclxuXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIGluaXQoKSB7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuY29udGVudCA9ICcnO1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnRpdGxlID0gJyc7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuc2VsZWN0Q2F0ZWdvcnkgPSB0b3BpY0l0ZW1Tb3VyY2VbMF07XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuc2VsZWN0VHJhbnNmZXIgPSAkc2NvcGUudHJhbnNmZXJbMF07XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIHNhZmVQb3N0KHN0cikge1xyXG4gICAgICAgICAgICAgICAgLy9yZXR1cm4gdmFsaWRhdG9yLmVzY2FwZSh2YWxpZGF0b3IudHJpbShzdHIpKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiB2YWxpZGF0b3IudHJpbShzdHIpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAkc2NvcGUuc3VibWl0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGNhdGVnb3J5ID0gc2FmZVBvc3QoJHNjb3BlLnNlbGVjdENhdGVnb3J5LnVpU3JlZik7XHJcbiAgICAgICAgICAgICAgICB2YXIgdHJhbnNmZXIgPSBzYWZlUG9zdCgkc2NvcGUuc2VsZWN0VHJhbnNmZXIudmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgdmFyIHRpdGxlID0gc2FmZVBvc3QoJHNjb3BlLnRpdGxlKTtcclxuICAgICAgICAgICAgICAgIHZhciBjb250ZW50ID0gc2FmZVBvc3QoJHNjb3BlLmNvbnRlbnQpO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmICghdGl0bGUgfHwgIWNvbnRlbnQpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgJGh0dHAoe1xyXG4gICAgICAgICAgICAgICAgICAgIG1ldGhvZDogJ3Bvc3QnLFxyXG4gICAgICAgICAgICAgICAgICAgIHVybDogJy9hcGkvc2F2ZUFydGljbGUnLFxyXG4gICAgICAgICAgICAgICAgICAgIGRhdGE6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgX2lkOiAkc2NvcGUuX2lkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXRlZ29yeTogY2F0ZWdvcnksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiB0aXRsZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudDogY29udGVudCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgdHJhbnNmZXI6IHRyYW5zZmVyXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJlcy5zdGF0dXMgPT09IDIwMCAmJiByZXMuZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpbml0KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRpYWxvZ1NlcnZpY2Uuc2hvdyh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZTogJ3NhdmUtb2suaHRtbCdcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAkc2NvcGUuY2xlYXIgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBpbml0KCk7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICBpZiAoJHN0YXRlLnBhcmFtcyAmJiAkc3RhdGUucGFyYW1zLmlkKSB7XHJcbiAgICAgICAgICAgICAgICAvL+WmguaenOWPguaVsOWtmOWcqO+8jOWImeS4unVwZGF0ZSFcclxuICAgICAgICAgICAgICAgICRodHRwLmdldCgnL2FwaS9hcnRpY2xlLycgKyAkc3RhdGUucGFyYW1zLmlkKS50aGVuKGZ1bmN0aW9uIChyZXMpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAocmVzLnN0YXR1cyA9PT0gMjAwICYmIHJlcy5kYXRhKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5faWQgPSByZXMuZGF0YS5faWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5jb250ZW50ID0gcmVzLmRhdGEuY29udGVudDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnRpdGxlID0gcmVzLmRhdGEudGl0bGU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5zZWxlY3RDYXRlZ29yeSA9IF8uZmluZCh0b3BpY0l0ZW1Tb3VyY2UsIHt1aVNyZWY6IHJlcy5kYXRhLmNhdGVnb3J5fSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5zZWxlY3RUcmFuc2ZlciA9IF8uZmluZCgkc2NvcGUudHJhbnNmZXIsIHt2YWx1ZTogcmVzLmRhdGEudHJhbnNmZXJ9KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGluaXQoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1dKTtcclxufSkoYW5ndWxhciwgdmFsaWRhdG9yKTsiLCIvKipcclxuICogQ3JlYXRlZCBieSBBbmR5Lkx2IG9uIDIwMTQvMTEvMTMuXHJcbiAqL1xyXG5cclxuKGZ1bmN0aW9uIChhbmd1bGFyKSB7XHJcbiAgICAndXNlIHN0cmljdCc7XHJcblxyXG4gICAgYW5ndWxhci5tb2R1bGUoJ25nV2ViJykuY29udHJvbGxlcignbWFpbmZyYW1lQ29udHJvbGxlcicsIFsnJHNjb3BlJywgJyRodHRwJyxcclxuICAgICAgICBmdW5jdGlvbiAoJHNjb3BlLCAkaHR0cCkge1xyXG4gICAgICAgICAgICAkc2NvcGUudXNlcm5hbWUgPSAnd2VsY29tZSc7XHJcbiAgICAgICAgICAgICRodHRwLmdldCgnL2FwaS9hdXRoL2F1dGhVc2VyJykudGhlbihmdW5jdGlvbiAocmVzKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAocmVzLnN0YXR1cyA9PT0gMjAwICYmIHJlcy5kYXRhKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmlzQWRtaW4gPSByZXMuZGF0YS5pc0FkbWluO1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS51c2VybmFtZSA9IHJlcy5kYXRhLnVzZXJuYW1lO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XSk7XHJcbn0pKGFuZ3VsYXIpOyIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IEFuZHkuTHYgb24gMjAxNS8xLzguXHJcbiAqL1xyXG5cclxuKGZ1bmN0aW9uIChhbmd1bGFyKSB7XHJcbiAgICAndXNlIHN0cmljdCc7XHJcblxyXG4gICAgYW5ndWxhci5tb2R1bGUoJ25nV2ViJykuY29udHJvbGxlcigndG9waWNDYXRlZ29yeUNvbnRyb2xsZXInLCBbJyRzY29wZScsICckaHR0cCcsICckc3RhdGUnLFxyXG4gICAgICAgIGZ1bmN0aW9uICgkc2NvcGUsICRodHRwLCAkc3RhdGUpIHtcclxuICAgICAgICAgICAgJGh0dHAuZ2V0KCcvYXBpL3RvcGljcy8nICsgJHN0YXRlLnBhcmFtcy5jYXRlZ29yeSkudGhlbihmdW5jdGlvbiAocmVzKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAocmVzLnN0YXR1cyA9PT0gMjAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLml0ZW1Tb3VyY2UgPSByZXMuZGF0YTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfV0pO1xyXG5cclxufSkoYW5ndWxhcik7IiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgQW5keS5MdiBvbiAyMDE0LzExLzEzLlxyXG4gKi9cclxuKGZ1bmN0aW9uIChhbmd1bGFyKSB7XHJcbiAgICAndXNlIHN0cmljdCc7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBpbmRleCB3aWxsIHVzZSB0aGlzIGNvbnRyb2xsZXJcclxuICAgICAqL1xyXG4gICAgYW5ndWxhci5tb2R1bGUoJ25nV2ViJykuY29udHJvbGxlcigndG9waWNDb250cm9sbGVyJywgWyckc2NvcGUnLCAnJGh0dHAnLCAndG9waWNJdGVtU291cmNlJyxcclxuICAgICAgICBmdW5jdGlvbiAoJHNjb3BlLCAkaHR0cCwgdG9waWNJdGVtU291cmNlKSB7XHJcbiAgICAgICAgICAgICRzY29wZS5kYXRhID0gdG9waWNJdGVtU291cmNlO1xyXG4gICAgICAgICAgICAkaHR0cC5nZXQoJy9hcGkvdG9waWNzL2dyb3VwdG9waWNzJykudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT09IDIwMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciB0ID0gJHNjb3BlLmRhdGE7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIF8uZm9yRWFjaChyZXNwb25zZS5kYXRhLCBmdW5jdGlvbiAoaykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgdXBkYXRlSXRlbSA9IF8uZmluZCgkc2NvcGUuZGF0YSwgZnVuY3Rpb24gKGkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBrLl9pZC50b0xvd2VyQ2FzZSgpID09PSBpLnRvcGljLnRvTG93ZXJDYXNlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodXBkYXRlSXRlbSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdXBkYXRlSXRlbS5udW1iZXIgPSBrLmNvdW50O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1dKTtcclxuXHJcbn0pKGFuZ3VsYXIpOyJdLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==